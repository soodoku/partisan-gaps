------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\partisan-gaps\scripts\Stata\partisan-gaps-log.txt
  log type:  text
 opened on:  17 Aug 2024, 12:24:19

. 
. version 13              // Still on version 13 :(

. 
. global figsavedir $rootdir/figs

. global tabsavedir $rootdir/tabs

. adopath ++ ./ado                // Add path to ados
  [1]              "./ado"
  [2]  (BASE)      "C:\Program Files (x86)\Stata13\ado\base/"
  [3]  (SITE)      "C:\Program Files (x86)\Stata13\ado\site/"
  [4]              "."
  [5]  (PERSONAL)  "c:\ado\personal/"
  [6]  (PLUS)      "c:\ado\plus/"
  [7]  (OLDPLACE)  "c:\ado/"

. 
. *** Setup dependencies
. txt2macro stata-requirements.txt

. setup "`r(mymacro)'"
Installing ssc packages, please wait...
ssssssss
. * -----------------------------------------------------------------------------
. 
. // ***************************************************
. * Study 1: The Effect of Guessing-Encouraging Features
. // ***************************************************
. * Figure 1
. * Partisan Gap by Treatment Arm (MTurk 1)
. do ./mturk/fig-partisan-gap.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. grstyle init
Scheme _GRSTYLE_ already active although grstyle is not running
Press any key to reset default scheme to s2color and overwrite scheme _GRSTYLE_, or Break to abort
(set scheme preference recorded)

. grstyle set plain, 

. 
. eststo clear

. foreach item of varlist $items avg {
  2.         foreach arm in $arms {
  3.                 qui: reg `item' ib1.pid if (pid_str!="Independent") & (question_type=="`arm'"), vce(hc3)
  4.                 est store `item'_`arm'          
  5.                 * Store estimates for average of conditions for annotations later
.                 if "`item'"=="avg" {
  6.                         local beta_`arm' = round(_b[3.pid], 0.01)
  7.                         dis `beta_`arm''
  8.                 }
  9.         }
 10. }
.38
.35
.21
.22
.1

. 
. /* In order that should appear
> IDA = IPS
> CUD = RW
> FSR = FSR
> IMC = 14k
> CCD = 24k
> */
. 
. local AVG_MARKER_OPTS offset(0) mcolor(navy) mlcolor(black) mlwidth(vvvthin)

. // coefplot (*_IPS) || (*_RW) || (*_FSR) || (*_14k) || (*_24k), ///
. coefplot (*_IPS, offset(0)) (avg_IPS, `AVG_MARKER_OPTS') ///
>         || (*_RW, offset(0)) (avg_RW, `AVG_MARKER_OPTS') ///
>         || (*_FSR, offset(0)) (avg_FSR, `AVG_MARKER_OPTS') ///
>         || (*_14k, offset(0)) (avg_14k, `AVG_MARKER_OPTS'), /// 
>         msymbol(s) ///
>         mcolor(gs9) ///
>         mlcolor(gs7) ///
>         mlwidth(vvvthin) ///
>         ciopts( color(gs10) ) ///
>         keep(3.pid) ///
>         asequation /// "set equation to model name or string" make the rows the models
>         swapnames /// "swap coefficient names and equation names"
>         subtitle("") /// Remove subtitles for now
>         byopts(row(1)) /// Force results to be in one row (1xn)
>         xline(0, lcolor(gs10) lpattern(dash) lwidth(medium)) ///
>         xlabel(-.3(.3).6) ///
>         xscale(range(-.2 .53)) ///
>         plotregion(margin(zero) ) ///   
>         plotregion(lcolor(black) margin(zero) lwidth(medthin)) /// draw box around columns
>         graphregion(margin(zero)) ///
>         ytick(none) /// remove horizontal grids
>         yscale(noline alt)  /// swap labels to RHS
>         eqrename( ///
>                 birth_RW = "{bf:Obama birthplace}" ///
>                 birth_IPS = "{bf:Obama birthplace}" ///
>                 birth_FSR = "{bf:Obama birthplace}" ///
>                 birth_14k = "{bf:Obama birthplace}" ///
>                 religion_RW = "{bf:Obama religion}" ///                                                               
>                                     " ///
>                 religion_IPS = "{bf:Obama religion}" ///
>                 religion_FSR = "{bf:Obama religion}" ///
>                 religion_14k = "{bf:Obama religion}" ///
>                 illegal_RW = "{bf:ACA illegal}" ///
>                 illegal_IPS = "{bf:ACA illegal}" ///
>                 illegal_FSR = "{bf:ACA illegal}" ///
>                 illegal_14k = "{bf:ACA illegal}" ///
>                 death_RW = "{bf:ACA death panels}" ///
>                 death_IPS = "{bf:ACA death panels}" ///
>                 death_FSR = "{bf:ACA death panels}" ///
>                 death_14k = "{bf:ACA death panels}" ///
>                 increase_RW = "{bf:GW causes}" ///
>                 increase_IPS = "{bf:GW causes}" ///
>                 increase_FSR = "{bf:GW causes}" ///
>                 increase_14k = "{bf:GW causes}" ///
>                 science_RW = "{bf:GW scientists agree}" ///
>                 science_IPS = "{bf:GW scientists agree}" ///
>                 science_FSR = "{bf:GW scientists agree}" ///
>                 science_14k = "{bf:GW scientists agree}" ///
>                 fraud_RW = "{bf:Voter fraud}" ///
>                 fraud_IPS = "{bf:Voter fraud}" ///
>                 fraud_FSR = "{bf:Voter fraud}" ///
>                 fraud_14k = "{bf:Voter fraud}" ///
>                 mmr_RW = "{bf:MMR vaccine}" ///
>                 mmr_IPS = "{bf:MMR vaccine}" ///
>                 mmr_FSR = "{bf:MMR vaccine}" ///
>                 mmr_14k = "{bf:MMR vaccine}" ///
>                 deficit_RW = "{bf:Budget deficit}" ///
>                 deficit_IPS = "{bf:Budget deficit}" ///
>                 deficit_FSR = "{bf:Budget deficit}" ///
>                 deficit_14k = "{bf:Budget deficit}" ///
>                 avg_RW = "{bf:Average}" ///                                                             
>                 avg_IPS = "{bf:Average}" ///                                                            
>                 avg_FSR = "{bf:Average}" ///                                                            
>                 avg_14k = "{bf:Average}" ///                                                            
>                 ) ///
> 

. 
. * Add column titles     
. addplot 1: , title("{bf:Condition 1}", size(medium)) norescaling

. addplot 2: , title("{bf:Condition 2}", size(medium)) norescaling

. addplot 3: , title("{bf:Condition 3}", size(medium)) norescaling

. addplot 4: , title("{bf:Condition 4}", size(medium)) norescaling

. 
. * graph margin
. gr_edit .style.editstyle margin(left) editcopy 

. * plot margin
. gr_edit .plotregion1.style.editstyle margin(left) editcopy

. * Remove ylabel ticks
. gr_edit .plotregion1.yaxis1[4].style.editstyle majorstyle(tickstyle(show_ticks(no))) editcopy

. * Shift labels to left
. gr_edit .plotregion1.move yaxis1[4] leftof 9 1

. 
. * reset margins back to zero to flush with new col of labels
. gr_edit .style.editstyle margin(zero) editcopy 

. gr_edit .plotregion1.style.editstyle margin(zero) editcopy

. 
. * Add annotes
. local y_heigh_coord = 9.748674339250291

. local annote_style angle(default) size(small) color(black) horizontal(left) vertical(middle) margin(zero) linegap(zero
> ) drawbox(no) boxmargin(zero) fillcolor(bluishgray) linestyle( width(thin) color(black) pattern(solid)) box_alignment(
> east) editcopy

. 
. gr_edit .plotregion1.plotregion1[1].AddTextBox added_text editor `y_heigh_coord' `beta_IPS'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[1].added_text[1].text.Arrpush `beta_IPS'

. 
. gr_edit .plotregion1.plotregion1[2].AddTextBox added_text editor `y_heigh_coord' `beta_RW'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[2].added_text[1].text.Arrpush `beta_RW'

. 
. gr_edit .plotregion1.plotregion1[3].AddTextBox added_text editor `y_heigh_coord' `beta_FSR'

. gr_edit .plotregion1.plotregion1[3].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[3].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[3].added_text[1].text.Arrpush `beta_FSR'

. 
. gr_edit .plotregion1.plotregion1[4].AddTextBox added_text editor `y_heigh_coord' `beta_14k'

. gr_edit .plotregion1.plotregion1[4].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[4].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[4].added_text[1].text.Arrpush `beta_14k'

. 
. gr_edit .legend.draw_view.setstyle, style(no)

. 
. savefig, path("$figsavedir/partisan-gap-by-item-arm") format(png pdf eps tif) override(width(1200))
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm.png
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm.eps
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm.tif

. * sort(, descending) /// sort by coeff size (by first column) 
> *       transform(* = min(max(@,-.25),.5)) /// truncate CI, 1st num is lower bound, 2nd num is upper bound

end of do-file

. 
. * Table 2
. * The Effect of Various Treatments on the Partisan Gap (MTurk 1)
. do ./mturk/reg-table.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Drop CCD (confidence coding/24k)
. drop if survey == 2
(254 observations deleted)

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                      953   ->    8577
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(2925 observations deleted)

. 
. 
. local spec1 i.rep

. local spec2 i.survey

. local spec3 i.rep##i.survey

. local spec4 `spec1' $demo

. local spec5 `spec2' $demo

. local spec6 `spec3' $demo

. 
. eststo clear

. forvalues i = 1/6 {
  2. eststo: qui reghdfe item `spec`i'', absorb(item_type) vce(cluster id)
  3.         estadd local items 9
  4.         estadd local Nrespondents = e(N_clust1)
  5.         local nobs: display %9.0fc `e(N)'
  6.         estadd local itemFE "\multicolumn{1}{c}{Yes}"
  7.         estadd local nobs "`nobs'"
  8.         if `i' > 3 {
  9.                 estadd local demo "\multicolumn{1}{c}{Yes}"
 10.         }
 11.         else {
 12.                 estadd local demo "\multicolumn{1}{c}{.}"       
 13.         }
 14. }
(est1 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "628"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,652"

added macro:
               e(demo) : "\multicolumn{1}{c}{.}"
(est2 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "628"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,652"

added macro:
               e(demo) : "\multicolumn{1}{c}{.}"
(est3 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "628"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,652"

added macro:
               e(demo) : "\multicolumn{1}{c}{.}"
(est4 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{Yes}"
(est5 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{Yes}"
(est6 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{Yes}"

. 
. 
. #delimit;
delimiter now ;
. esttab,
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(1.rep *.survey _cons)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle
>         coeflabel(1.rep "Congenial"
>                           5.survey "Condition 2"
>                           3.survey "Condition 3"
>                           1.survey "Condition 4"
>                           // 2.survey "CCD"
>                       1.rep#5.survey "Congenial $\times$ (Cond. 2)"
>                       1.rep#3.survey "Congenial $\times$ (Cond. 3)"             
>                       1.rep#1.survey "Congenial $\times$ (Cond. 4)"
>                       // 1.rep#2.survey "Congenial $\times$ CCD"
>                       // 1.rep#4.survey "Congenial $\times$ IPS"
>                 )
>         // order(1.rep 5.survey 3.survey 1.survey 2.survey 1.rep#5.survey 1.rep#3.survey 1.rep#1.survey 1.rep#2.survey
> )
>         order(1.rep 5.survey 3.survey 1.survey 1.rep#5.survey 1.rep#3.survey 1.rep#1.survey)
>         scalar(
>                 "r2 R$^2$" 
>                 "itemFE Survey item FE"
>                 "demo Demographic controls"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         title("Dep. var. is 1(response is congenial)")
> ;

Dep. var. is 1(response is congenial)
--------------------------------------------------------------------------------------------
                          (1)         (2)         (3)         (4)         (5)         (6)   
--------------------------------------------------------------------------------------------
Congenial               0.281***                0.351***    0.295***                0.363***
                      (0.017)                 (0.035)     (0.017)                 (0.034)   
                      [0.000]                 [0.000]     [0.000]                 [0.000]   
Condition 2                         0.010       0.000                   0.011       0.000   
                                  (0.028)     (0.022)                 (0.028)     (0.020)   
                                  [0.722]     [0.985]                 [0.687]     [0.985]   
Condition 3                        -0.064**     0.000                  -0.063**    -0.001   
                                  (0.024)     (0.019)                 (0.024)     (0.018)   
                                  [0.009]     [0.993]                 [0.010]     [0.951]   
Condition 4                        -0.080**    -0.023                  -0.081**    -0.019   
                                  (0.025)     (0.019)                 (0.025)     (0.019)   
                                  [0.002]     [0.245]                 [0.001]     [0.325]   
Congenial $\t.. 2)                              0.024                               0.025   
                                              (0.046)                             (0.045)   
                                              [0.605]                             [0.585]   
Congenial $\t.. 3)                             -0.173***                           -0.164***
                                              (0.046)                             (0.044)   
                                              [0.000]                             [0.000]   
Congenial $\t.. 4)                             -0.132**                            -0.134** 
                                              (0.048)                             (0.047)   
                                              [0.006]                             [0.005]   
Constant                0.179***    0.306***    0.184***    0.445       1.068       0.603   
                      (0.007)     (0.020)     (0.014)     (1.063)     (1.269)     (1.019)   
                      [0.000]     [0.000]     [0.000]     [0.676]     [0.400]     [0.554]   
--------------------------------------------------------------------------------------------
R$^2$                   0.315       0.234       0.328       0.326       0.244       0.339   
Survey item FE       \multicolumn{1}{c}{Yes}    \multicolumn{1}{c}{Yes}    \multicolumn{1}{c}{Yes}    \multicolumn{1}{c}
> {Yes}    \multicolumn{1}{c}{Yes}    \multicolumn{1}{c}{Yes}   
Demographic controls \multicolumn{1}{c}{.}    \multicolumn{1}{c}{.}    \multicolumn{1}{c}{.}    \multicolumn{1}{c}{Yes} 
>    \multicolumn{1}{c}{Yes}    \multicolumn{1}{c}{Yes}   
Items                       9           9           9           9           9           9   
Respondents               628         628         628         627         627         627   
Respondent-items         5,652        5,652        5,652        5,643        5,643        5,643   
--------------------------------------------------------------------------------------------

.         esttab using $tabsavedir/mturk-reg-table-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(1.rep *.survey _cons)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle 
>         coeflabel(1.rep "Congenial"
>                           5.survey "Condition 2"
>                           3.survey "Condition 3"
>                           1.survey "Condition 4"
>                           // 2.survey "CCD"
>                       1.rep#5.survey "Congenial $\times$ (Cond. 2)"
>                       1.rep#3.survey "Congenial $\times$ (Cond. 3)"             
>                       1.rep#1.survey "Congenial $\times$ (Cond. 4)"
>                       // 1.rep#2.survey "Congenial $\times$ CCD"
>                       // 1.rep#4.survey "Congenial $\times$ IPS"
>                 )
>         order(1.rep 5.survey 3.survey 1.survey 1.rep#5.survey 1.rep#3.survey 1.rep#1.survey)
>         scalar(
>                 "r2 R$^2$"
>                 "itemFE Survey item FE"
>                 "demo Demographic controls"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/mturk-reg-table-fragment.tex)

. #delimit cr     
delimiter now cr
. 
. 
. grstyle init

. grstyle set plain, nogrid noextend horizontal

. // Test plot
. * IPS = IDA
. * RW = CUD
. * FSR = FSR
. * 14k = IMD
. * 24k = CCD
. margins rep#survey, post

Predictive margins                                Number of obs   =       5643
Model VCE    : Robust

Expression   : Linear prediction, predict()

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
  rep#survey |
      0#14k  |   .1602002   .0132694    12.07   0.000     .1341928    .1862077
      0#FSR  |   .1776973   .0129807    13.69   0.000     .1522555    .2031391
      0#IPS  |   .1788234   .0131358    13.61   0.000     .1530776    .2045691
       0#RW  |   .1792043   .0157566    11.37   0.000      .148322    .2100867
      1#14k  |   .3883137   .0298999    12.99   0.000     .3297109    .4469165
      1#FSR  |   .3766264     .02577    14.61   0.000     .3261181    .4271347
      1#IPS  |   .5414203   .0312018    17.35   0.000     .4802658    .6025747
       1#RW  |   .5664301   .0251083    22.56   0.000     .5172188    .6156414
------------------------------------------------------------------------------

. 
. #delimit;
delimiter now ;
. coefplot,
>         keep(1.rep#*)
>         recast(bar)
>         vertical
>         color(gs7) fcolor(none) lwidth(thick)
>         ylabel(0(.2).6, labsize(large) nogrid )
>         yscale(r(0 .65))
>         ciopts(recast(rcap))
>         coeflabel(
>                 1.rep#4.survey = "Cond. 1"
>                 1.rep#5.survey = "Cond. 2"
>                 1.rep#3.survey = "Cond. 3"
>                 1.rep#1.survey = "Cond. 4"
>                 // 1.rep#2.survey = "24k"
>         )
>         order(
>                 1.rep#4.survey
>                 1.rep#5.survey
>                 1.rep#3.survey
>                 1.rep#1.survey
>         )
>         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>         xlabel(,val noticks labsize(medlarge))
>         plotregion(margin(10 10 0 0))
>         ytitle("Predicted proportion of correct responses" "when congenial", size(large))
>         name(congenial)
> ;

. graph export $figsavedir/mturk-ida-cud-fsr-imc-congenial.pdf, replace;
(file D:/partisan-gaps/figs/mturk-ida-cud-fsr-imc-congenial.pdf written in PDF format)

. #delimit;
delimiter now ;
. coefplot,
>         keep(0.rep#*)
>         recast(bar)
>         vertical
>         color(gs7) fcolor(none) lwidth(thick)
>         ylabel(0(.2).6, angle(horizontal) labsize(large) nogrid )
>         yscale(r(0 .65))
>         ciopts(recast(rcap))
>         coeflabel(
>                 0.rep#4.survey = "Cond. 1"
>                 0.rep#5.survey = "Cond. 2"
>                 0.rep#3.survey = "Cond. 3"
>                 0.rep#1.survey = "Cond. 4"
>                 4.survey = "xx"
>                 // 1.rep#2.survey = "24k"
>         )
>         order(
>                 0.rep#4.survey
>                 0.rep#5.survey
>                 0.rep#3.survey
>                 0.rep#1.survey
>         )
>         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>         xlabel(,val noticks labsize(medlarge))
>         plotregion(margin(10 10 0 0))
>         ytitle("Predicted proportion of correct responses" "when not* congenial", size(large))
>         name(uncongenial)
> ;

. graph export $figsavedir/mturk-ida-cud-fsr-imc-uncongenial.pdf, replace;
(file D:/partisan-gaps/figs/mturk-ida-cud-fsr-imc-uncongenial.pdf written in PDF format)

. coef

end of do-file

. 
. // ****************************************************
. * Study 2: The Effect of Partisan Cues on Partisan Gaps
. // ****************************************************
. * Table 3
. * The Impact of Partisan Cues on Partisan Gaps (YouGov)
. do ./survey-exp/reg-table.do

. import delimited $rootdir/data/survey_exp/selex.csv, clear
(262 vars, 2500 obs)

. do ./survey-exp/preamble.do

. **** Basic prep of data
. import delimited D:/partisan-gaps/data/survey_exp/selex.csv, clear
(262 vars, 2500 obs)

. 
. gen rep = (pid2=="Republican")

. gen dem = (pid2=="Democrat")

. gen ind = (pid3=="Independent")

. encode pid3, gen(partisanship)

. 
. /* Unemployment (qpk7)
> Unemployment rate since the 2010 midterm elections ...
> 
> Count Code Label
> ----- ---- -----
> 690 1 Gone Up
> 675 2 Remained the same
> 847 3 Gone Down
> 242 4 Can't Say
> 46 8 Skipped
> 0 9 Not Asked
> */
. // gen unempup = (qpk7=="Gone Up") 
. // label var unempup "Responded that unempployment has gone up"
. gen unemp_correct = (qpk7=="Gone Down") 

. label var unemp_correct "=1 if correctly responded that unemp. went down"

. 
. /* Budget deficit (qpk8)
> Budget deficit since the 2010 midterm elections ...
> 
> Count Code Label
> ----- ---- -----
> 1576 1 Gone Up
> 441 2 Remained the same
> 160 3 Gone Down
> 284 4 Can't Say
> 39 8 Skipped
> 0 9 Not Asked
> */
. // gen deficitup = (qpk8=="Gone Up")
. // label var deficitup "Responded that budget deficit has gone up"
. gen deficit_correct = (qpk8=="Gone Down") 

. label var deficit_correct "=1 if correctly responded that deficit went down"

. 
. /* Demographics*/
. global demoX birthyr i.gender i.white i.educ i.marstat i.employ i.newsint i.faminc

. 
. rename gender gender_str

. encode gender_str, gen(gender)

. 
. encode race, gen(white)

. 
. rename educ educ_str

. encode educ_str, gen(educ)

. 
. rename marstat marstat_str

. encode marstat_str, gen(marstat)

. 
. rename employ employ_str

. encode employ_str, gen(employ)

. 
. rename faminc faminc_str

. encode faminc_str, gen(faminc)

. 
. 
. * Congenial cues 
. * Correct answer is congenial to D if both unemp/deficit dropped during Obama's term
. * This is the same as party - specifically D
. gen congenial = (dem==1)

. 
. /* Partisan cue (qpk7_insert)
> when Democrats retained control of the Senate
> when Republicans regained control of the US Cong
> */
. * Defining Dcue at question level
. gen Dcue = (strpos(qpk7_insert, "when Democrats retained control of the Senate")>0)

. label var Dcue "=1 if Dem. cue"

. gen Rcue = 1 - Dcue

. label var Rcue "=1 if Rep. cue"

. 
. drop if ind==1
(396 observations deleted)

. 
end of do-file

. drop if ind==1
(0 observations deleted)

. 
. eststo clear

. eststo: reg unemp_correct i.congenial##i.Dcue, vce(hc3)

Linear regression                                      Number of obs =    2104
                                                       F(  3,  2100) =   18.56
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0273
                                                       Root MSE      =  .47182

--------------------------------------------------------------------------------
               |             Robust HC3
 unemp_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
   1.congenial |   .0437191   .0288102     1.52   0.129    -.0127804    .1002186
        1.Dcue |  -.0156063   .0288164    -0.54   0.588    -.0721179    .0409053
               |
congenial#Dcue |
          1 1  |   .1554092   .0411037     3.78   0.000      .074801    .2360174
               |
         _cons |   .2973523   .0206704    14.39   0.000     .2568157     .337889
--------------------------------------------------------------------------------
(est1 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,104}"

.         estadd local demotab "\multicolumn{1}{c}{.}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{.}"

. 
. eststo: reg unemp_correct i.congenial##i.Dcue $demoX, vce(hc3)

Linear regression                                      Number of obs =    2066
                                                       F( 44,  2021) =   19.56
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0887
                                                       Root MSE      =  .46277

---------------------------------------------------------------------------------------
                      |             Robust HC3
        unemp_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------------+----------------------------------------------------------------
          1.congenial |   .1021889   .0302955     3.37   0.001     .0427751    .1616026
               1.Dcue |  -.0148643   .0293208    -0.51   0.612    -.0723665    .0426378
                      |
       congenial#Dcue |
                 1 1  |   .1465436   .0413652     3.54   0.000     .0654208    .2276664
                      |
              birthyr |   .0000561   .0010175     0.06   0.956    -.0019394    .0020516
                      |
               gender |
                Male  |   .0505706   .0228228     2.22   0.027     .0058119    .0953294
                      |
                white |
               White  |   .0730707   .0264452     2.76   0.006     .0212081    .1249333
                      |
                 educ |
              4-year  |   .0487381   .0438059     1.11   0.266    -.0371713    .1346475
High school graduate  |  -.0043489   .0397499    -0.11   0.913    -.0823039    .0736062
               No HS  |  -.0703292   .0621866    -1.13   0.258    -.1922857    .0516272
           Post-grad  |    .062089   .0497332     1.25   0.212    -.0354446    .1596226
        Some college  |   .0194657   .0412107     0.47   0.637    -.0613543    .1002857
                      |
              marstat |
Domestic partnership  |  -.0589111   .0534202    -1.10   0.270    -.1636754    .0458532
             Married  |   .0144734    .035356     0.41   0.682    -.0548645    .0838114
           Separated  |  -.1862627   .0697751    -2.67   0.008    -.3231014    -.049424
              Single  |  -.0168998   .0410434    -0.41   0.681    -.0973917     .063592
             Widowed  |   .0875549   .0585598     1.50   0.135     -.027289    .2023988
                      |
               employ |
           Homemaker  |  -.0473367   .0407626    -1.16   0.246    -.1272778    .0326045
               Other  |   .0106186   .0811524     0.13   0.896    -.1485324    .1697696
           Part-time  |   .0025206   .0374914     0.07   0.946    -.0710051    .0760464
Permanently disabled  |   -.006121   .0474563    -0.13   0.897    -.0991894    .0869474
             Retired  |  -.0249418    .037379    -0.67   0.505    -.0982471    .0483635
             Student  |   .0301582   .0522696     0.58   0.564    -.0723497    .1326661
Temporarily laid off  |  -.0887808   .1273159    -0.70   0.486     -.338465    .1609033
          Unemployed  |  -.0097393   .0440002    -0.22   0.825    -.0960299    .0765513
                      |
              newsint |
                   2  |  -.0826263   .0258784    -3.19   0.001    -.1333774   -.0318751
                   3  |  -.0988245   .0349559    -2.83   0.005    -.1673779    -.030271
                   4  |  -.1002482   .0478428    -2.10   0.036    -.1940745   -.0064218
                      |
               faminc |
 $100,000 - $119,999  |   .2515008   .0625289     4.02   0.000      .128873    .3741285
 $120,000 - $149,999  |    .080414   .0639154     1.26   0.208    -.0449329    .2057609
 $150,000 - $199,999  |   .1979312   .0791505     2.50   0.012     .0427061    .3531562
   $150,000 or more   |   .7409223   .0713429    10.39   0.000      .601009    .8808356
   $20,000 - $29,999  |   .0627965   .0486063     1.29   0.197    -.0325272    .1581201
 $200,000 - $249,999  |   .2892449   .1036476     2.79   0.005     .0859776    .4925122
 $250,000 - $349,999  |   .1134159   .1447094     0.78   0.433    -.1703793    .3972111
   $30,000 - $39,999  |    .070535   .0487676     1.45   0.148     -.025105    .1661749
 $350,000 - $499,999  |   .4930507   .1761537     2.80   0.005      .147589    .8385124
   $40,000 - $49,999  |   .0642366   .0507158     1.27   0.205    -.0352241    .1636972
   $50,000 - $59,999  |     .08265   .0518102     1.60   0.111    -.0189569    .1842569
    $500,000 or more  |   .6930919   .0643355    10.77   0.000     .5669211    .8192627
   $60,000 - $69,999  |   .1217774   .0565704     2.15   0.031      .010835    .2327197
   $70,000 - $79,999  |   .1358862     .05625     2.42   0.016     .0255722    .2462003
   $80,000 - $99,999  |   .0663002   .0555558     1.19   0.233    -.0426525    .1752528
   Less than $10,000  |   .0938753    .058182     1.61   0.107    -.0202276    .2079783
   Prefer not to say  |   .1041471   .0483441     2.15   0.031     .0093377    .1989565
                      |
                _cons |   .0173937   2.000084     0.01   0.993    -3.905048    3.939835
---------------------------------------------------------------------------------------
(est2 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,066}"

.         estadd local demotab "\multicolumn{1}{c}{Yes}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{Yes}"

.         estadd local demo "Yes" 

added macro:
               e(demo) : "Yes"

. 
. eststo: reg deficit_correct i.congenial##i.Dcue, vce(hc3)

Linear regression                                      Number of obs =    2104
                                                       F(  3,  2100) =   12.50
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0214
                                                       Root MSE      =  .24921

--------------------------------------------------------------------------------
               |             Robust HC3
deficit_corr~t |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------+----------------------------------------------------------------
   1.congenial |   .0271239   .0139018     1.95   0.051    -.0001389    .0543868
        1.Dcue |  -.0089872   .0118801    -0.76   0.449    -.0322852    .0143108
               |
congenial#Dcue |
          1 1  |   .0668131   .0213397     3.13   0.002      .024964    .1086622
               |
         _cons |   .0407332    .008939     4.56   0.000      .023203    .0582634
--------------------------------------------------------------------------------
(est3 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,104}"

.         estadd local demotab "\multicolumn{1}{c}{.}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{.}"

. 
. eststo: reg deficit_correct i.congenial##i.Dcue $demoX, vce(hc3)

Linear regression                                      Number of obs =    2066
                                                       F( 43,  2021) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.0383
                                                       Root MSE      =  .24921

---------------------------------------------------------------------------------------
                      |             Robust HC3
      deficit_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------------+----------------------------------------------------------------
          1.congenial |   .0285909   .0159072     1.80   0.072    -.0026053    .0597872
               1.Dcue |  -.0061591   .0122331    -0.50   0.615      -.03015    .0178318
                      |
       congenial#Dcue |
                 1 1  |   .0608589   .0217674     2.80   0.005     .0181701    .1035478
                      |
              birthyr |   .0006793   .0005666     1.20   0.231    -.0004318    .0017905
                      |
               gender |
                Male  |    .022946    .012937     1.77   0.076    -.0024251    .0483172
                      |
                white |
               White  |   .0014384   .0153186     0.09   0.925    -.0286035    .0314802
                      |
                 educ |
              4-year  |  -.0191745   .0243872    -0.79   0.432    -.0670011    .0286522
High school graduate  |  -.0049547   .0228405    -0.22   0.828    -.0497481    .0398386
               No HS  |  -.0291269   .0352162    -0.83   0.408    -.0981908     .039937
           Post-grad  |   .0118566   .0285841     0.41   0.678    -.0442008     .067914
        Some college  |  -.0216144    .023295    -0.93   0.354    -.0672992    .0240703
                      |
              marstat |
Domestic partnership  |   .0079977   .0367451     0.22   0.828    -.0640646    .0800599
             Married  |  -.0133064   .0196537    -0.68   0.498      -.05185    .0252372
           Separated  |  -.1014107   .0212602    -4.77   0.000    -.1431049   -.0597165
              Single  |   -.020822   .0230744    -0.90   0.367    -.0660741    .0244301
             Widowed  |  -.0178675   .0300194    -0.60   0.552    -.0767397    .0410047
                      |
               employ |
           Homemaker  |    .011932   .0223472     0.53   0.593    -.0318939    .0557578
               Other  |     .02193   .0470297     0.47   0.641    -.0703018    .1141618
           Part-time  |   .0190377   .0218642     0.87   0.384     -.023841    .0619164
Permanently disabled  |  -.0029122   .0266817    -0.11   0.913    -.0552386    .0494142
             Retired  |   .0022356   .0208349     0.11   0.915    -.0386246    .0430958
             Student  |  -.0014483   .0298869    -0.05   0.961    -.0600607     .057164
Temporarily laid off  |  -.0849775    .020548    -4.14   0.000     -.125275     -.04468
          Unemployed  |   .0452264   .0305153     1.48   0.138    -.0146183    .1050712
                      |
              newsint |
                   2  |   -.000681   .0136051    -0.05   0.960    -.0273625    .0260006
                   3  |   .0203013   .0210564     0.96   0.335    -.0209932    .0615959
                   4  |  -.0348148   .0244188    -1.43   0.154    -.0827034    .0130738
                      |
               faminc |
 $100,000 - $119,999  |  -.0030661   .0332893    -0.09   0.927    -.0683511    .0622188
 $120,000 - $149,999  |  -.0077227   .0344973    -0.22   0.823    -.0753766    .0599312
 $150,000 - $199,999  |  -.0222552   .0354923    -0.63   0.531    -.0918605    .0473501
   $150,000 or more   |  -.0193655   .0293924    -0.66   0.510    -.0770081    .0382771
   $20,000 - $29,999  |    .024393   .0285676     0.85   0.393     -.031632     .080418
 $200,000 - $249,999  |   .0211316   .0639439     0.33   0.741    -.1042712    .1465344
 $250,000 - $349,999  |  -.0011228   .0802701    -0.01   0.989    -.1585437    .1562981
   $30,000 - $39,999  |   .0064964    .027987     0.23   0.816      -.04839    .0613828
 $350,000 - $499,999  |   -.076148   .0305895    -2.49   0.013    -.1361383   -.0161577
   $40,000 - $49,999  |  -.0265991   .0271444    -0.98   0.327    -.0798331    .0266348
   $50,000 - $59,999  |  -.0117556   .0269997    -0.44   0.663    -.0647057    .0411946
    $500,000 or more  |  -.0506772   .0342585    -1.48   0.139    -.1178628    .0165084
   $60,000 - $69,999  |   .0471376   .0351611     1.34   0.180    -.0218182    .1160935
   $70,000 - $79,999  |   .0254527   .0328484     0.77   0.439    -.0389675    .0898729
   $80,000 - $99,999  |  -.0018401   .0308127    -0.06   0.952    -.0622681    .0585879
   Less than $10,000  |   .0270174   .0383283     0.70   0.481    -.0481498    .1021845
   Prefer not to say  |   .0071463   .0275941     0.26   0.796    -.0469696    .0612622
                      |
                _cons |  -1.292306   1.116655    -1.16   0.247    -3.482222    .8976091
---------------------------------------------------------------------------------------
(est4 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,066}"

.         estadd local demotab "\multicolumn{1}{c}{Yes}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{Yes}"

.         estadd local demo "Yes" 

added macro:
               e(demo) : "Yes"

. 
. #delimit;
delimiter now ;
. esttab,
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )
>     collabels(, none)
>         varwidth(30)
>         modelwidth(8)
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Dcue
>                 1.congenial#1.Dcue
>                 _cons
>         )
>         obslast
>         label
>         nobase  
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Dcue "Democratic cue"
>                 1.congenial#1.Dcue "Congenial x Democratic cue"         
>         )
>         scalar(
>                 "demo Demographic controls"
>                 "r2 R-square" 
>                 ) 
>         // title("Dep. var. is 1(response is congenial)")
> ;

------------------------------------------------------------------------------
                                    (1)         (2)         (3)         (4)   
------------------------------------------------------------------------------
Congenial                         0.044       0.102***    0.027+      0.029+  
                                (0.029)     (0.030)     (0.014)     (0.016)   
                                [0.129]     [0.001]     [0.051]     [0.072]   
Democratic cue                   -0.016      -0.015      -0.009      -0.006   
                                (0.029)     (0.029)     (0.012)     (0.012)   
                                [0.588]     [0.612]     [0.449]     [0.615]   
Congenial x Democratic cue        0.155***    0.147***    0.067**     0.061** 
                                (0.041)     (0.041)     (0.021)     (0.022)   
                                [0.000]     [0.000]     [0.002]     [0.005]   
Constant                          0.297***    0.017       0.041***   -1.292   
                                (0.021)     (2.000)     (0.009)     (1.117)   
                                [0.000]     [0.993]     [0.000]     [0.247]   
------------------------------------------------------------------------------
Demographic controls                            Yes                     Yes   
R-square                         0.0273      0.0887      0.0214      0.0383   
Observations                       2104        2066        2104        2066   
------------------------------------------------------------------------------

.         esttab using $tabsavedir/yougov-reg-table-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Dcue
>                 1.congenial#1.Dcue
>                 _cons
>         )
>         obslast
>         label
>         nobase
>         noobs
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Dcue "Democratic cue"
>                 1.congenial#1.Dcue "Congenial $\times$ Democratic cue"
>                 _cons "Constant"
>         )
>         scalar(
>                 "r2 R$^2$"
>                 "demotab Demographic controls"
>                 "nobs Respondents"
>                 )
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace
>         ;
(output written to D:/partisan-gaps/tabs/yougov-reg-table-fragment.tex)

. #delimit cr     
delimiter now cr
. 
end of do-file

. 
. * Table 4
. * Impact of Partisan Cues on Proportion Correct on Unemployment (Texas Lyceum)
. * Table 5
. * Impact of Partisan Cues and Guessing-Encouraging Wording on Proportion Correct on
. do ./tx-lyceum/reg-table.do

. use "$rootdir/data/tx_lyceum/Texas Lyceum 2012 Data.dta", clear

. do ./tx-lyceum/preamble.do

. use "D:/partisan-gaps/data/tx_lyceum/Texas Lyceum 2012 Data.dta", clear

. 
. /* Demographics */
. global demoX news agecohort i.married i.children i.schoolm1 i.income i.edu i.religion i.race i.libcon i.gender

. 
. encode ageo, gen(agecohort)

. 
. gen rep = (pid==2) 

. gen dem = (pid==1) 

. drop if pid == 3 /* drop Neither */ 
(423 observations deleted)

. drop if pid == 4 /* DK/Refused */ 
(17 observations deleted)

. 
. /* Defining unempup = dep. var. for Q45 (Unemployment)
> Since the 2010 midterm elections...
> Q45a = ..., has the unemployment rate gone up, gone down, or remained the same?  Or couldn’t you say?
> Q45b = ... when Republicans regained control of the U.S. Congress, has the unemployment rate gone up, gone down, or re
> mained the same?  Or couldn’t you say?
> Q45C = ... when the Democrats retained control of the Senate, has the unemployment rate gone up, gone down, or remaine
> d the same?  Or couldn’t you say?
> 
> 1.  Gone up
> 2.  Gone down
> 3.  Stayed the same
> 4.  Couldn’t say
> */
. // gen unempup = (q45a==1) | (q45b==1) | (q45c==1)
. // label var unempup "Responded that unemployment rate has gone up"
. * Correct answer = Gone Down
. gen unemp_correct = (q45a==2) | (q45b==2) | (q45c==2)

. label var unemp_correct "= 1 if correctly responded that unemp. went down"

. 
. rename sel03 q45arm

. 
. /* Defining fedtaxup = dep. var. for Q46 (Fed taxes)
> Since the 2010 midterm elections...
> Q46a = Since January 2009, have federal taxes increased, decreased, or remained the same.
> Q46b = Since Barack Obama took office, have federal taxes increased, decreased, or remained the same.
> Q46C = Based on what you have heard, since Barack Obama took office, have federal taxes increased, decreased, or remai
> ned the same.
> 
> 1.  Increased
> 2.  Decreased
> 3.  Remained the same
> 4.  Couldn’t say
> */
. // gen fedtaxup = (q46a==1) | (q46b==1) | (q46c==1)
. // label var fedtaxup "Responded that federal taxes has gone up"
. gen fedtax_correct = (q46a==3) | (q46b==3) | (q46c==3)

. label var fedtax_correct "= 1 if correctly responded that fed tax remained the same"

. 
. gen fedtax_dk = (q46a==4) | (q46b==4) | (q46c==4)

. label var fedtax_dk "Responded DK for has federal taxes has gone up?"

. 
. rename sel04 q46arm

. 
end of do-file

. 
. // =============================================================
. // Table 4 - Unemp
. // =============================================================
. * Defining at question level
. gen congenial = (dem == 1)

. 
. /* Defining unempup = dep. var. for Q45 (Unemployment)
> Since the 2010 midterm elections...
> Q45a = ..., has the unemployment rate gone up, gone down, or remained the same?  Or couldn’t you say?
> Q45b = ... when Republicans regained control of the U.S. Congress, has the unemployment rate gone up, gone down, or re
> mained the same?  Or couldn’t you say?
> Q45C = ... when the Democrats retained control of the Senate, has the unemployment rate gone up, gone down, or remaine
> d the same?  Or couldn’t you say?
> */
. gen Neutralcue = (q45arm==1)

. gen Rcue = (q45arm==2)

. gen Dcue = (q45arm==3)

. 
. // su unemp_correct if dem & Neutralcue
. // * .36
. // su unemp_correct if rep & Neutralcue
. // * .20
. // * Baseline Gap = .16
. // su unemp_correct if dem & Dcue
. // * .42
. // su unemp_correct if rep & Dcue
. // * .14
. // * inflate gap = .28
. // su unemp_correct if dem & Rcue
. // * .28
. // su unemp_correct if rep & Rcue
. // * .19
. // * inflate gap v2 = .09
. 
. eststo: reg unemp_correct i.congenial##(i.Neutralcue Dcue), vce(hc3)

Linear regression                                      Number of obs =     758
                                                       F(  5,   752) =    7.43
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0502
                                                       Root MSE      =  .42552

--------------------------------------------------------------------------------------
                     |             Robust HC3
       unemp_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
         1.congenial |   .0885886     .05425     1.63   0.103    -.0179109    .1950881
        1.Neutralcue |   .0134252    .046049     0.29   0.771    -.0769747    .1038251
              1.Dcue |  -.0528256    .044232    -1.19   0.233    -.1396585    .0340074
                     |
congenial#Neutralcue |
                1 1  |   .0724334   .0784565     0.92   0.356    -.0815864    .2264532
                     |
      congenial#Dcue |
                1 1  |   .1956085   .0785466     2.49   0.013     .0414118    .3498052
                     |
               _cons |   .1891892   .0324132     5.84   0.000     .1255581    .2528202
--------------------------------------------------------------------------------------
(est5 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      758}"

.         estadd local demotab "\multicolumn{1}{c}{.}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{.}"

. 
. eststo: reg unemp_correct i.congenial##(i.Neutralcue Dcue) $demoX, vce(hc3)

Linear regression                                      Number of obs =     752
                                                       F( 47,   704) =    2.20
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1229
                                                       Root MSE      =   .4206

-----------------------------------------------------------------------------------------------------------------------
                                                      |             Robust HC3
                                        unemp_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------------------------------------------+----------------------------------------------------------------
                                          1.congenial |   .0478315   .0726801     0.66   0.511    -.0948641    .1905271
                                         1.Neutralcue |    .016735   .0475335     0.35   0.725    -.0765895    .1100595
                                               1.Dcue |  -.0470309   .0452194    -1.04   0.299     -.135812    .0417502
                                                      |
                                 congenial#Neutralcue |
                                                 1 1  |   .0743633   .0840164     0.89   0.376    -.0905894     .239316
                                                      |
                                       congenial#Dcue |
                                                 1 1  |   .2156851   .0822537     2.62   0.009     .0541931    .3771771
                                                      |
                                                 news |   .0033576   .0081158     0.41   0.679    -.0125764    .0192916
                                            agecohort |   .0030162   .0016481     1.83   0.068    -.0002196     .006252
                                                      |
                                              married |
                                             Married  |   .0233124   .0827282     0.28   0.778    -.1391111    .1857359
                                            Divorced  |   .0555425   .0947716     0.59   0.558    -.1305264    .2416115
                                             Widowed  |  -.0106554   .0977535    -0.11   0.913    -.2025788    .1812679
                                           Separated  |   .1479908   .3212738     0.46   0.645    -.4827788    .7787603
                DON'T KNOW/REFUSED/NA. [Do not read]  |   .2893549   .1920359     1.51   0.132    -.0876767    .6663866
                                                      |
                                             children |
                                                 Two  |  -.0242693   .0718559    -0.34   0.736    -.1653469    .1168083
                                               Three  |   .0528177   .1083926     0.49   0.626    -.1599938    .2656293
                                        Four or more  |  -.0958646   .1232102    -0.78   0.437     -.337768    .1460389
                                                None  |   .0270417   .0520635     0.52   0.604    -.0751765      .12926
                                                      |
                                             schoolm1 |
Yes, I have a child/children under 18 enrolled in ..  |  -.1001557   .1083934    -0.92   0.356    -.3129687    .1126572
Yes, I have a child/children under 18 who are bein..  |  -.1107619   .1213375    -0.91   0.362    -.3489886    .1274649
No, I do not have any children under 18 in school ..  |   .0008906   .0613858     0.01   0.988    -.1196305    .1214116
                                                      |
                                               income |
                                    $15,0000-$25,000  |   .1668062    .092467     1.80   0.072    -.0147378    .3483503
                                     $25,000-$40,000  |   .1925531   .0879694     2.19   0.029     .0198394    .3652669
                                     $40,000-$75,000  |   .1121448   .0842771     1.33   0.184    -.0533197    .2776094
                                    $75,000-$150,000  |   .1605018   .0870286     1.84   0.066     -.010365    .3313685
                                  More than $150,000  |   .1874927   .0973462     1.93   0.055    -.0036309    .3786162
                DON'T KNOW/REFUSED/NA. [Do not read]  |   .1526955   .0859546     1.78   0.076    -.0160625    .3214535
                                                      |
                                                  edu |
                                         High school  |   .1366709   .1075525     1.27   0.204     -.074491    .3478329
                                        Some college  |   .0247795   .1071567     0.23   0.817    -.1856055    .2351644
                                      College degree  |   .0921555   .1091187     0.84   0.399    -.1220815    .3063925
                 Post-graduate degree (MA, LLD, PhD)  |   .1024213   .1106097     0.93   0.355    -.1147429    .3195856
                DON'T KNOW/REFUSED/NA. [Do not read]  |   -.134334   .3456046    -0.39   0.698    -.8128731    .5442052
                                                      |
                                             religion |
                                            Catholic  |  -.0314948   .0483642    -0.65   0.515    -.1264502    .0634606
                                     Other Christian  |   .0796903    .039235     2.03   0.043     .0026586     .156722
                                              Jewish  |    .037452   .1866573     0.20   0.841    -.3290196    .4039236
            Muslim, Buddhist, or other non-Christian  |   .1069138   .1802164     0.59   0.553    -.2469122    .4607397
                                    Agnostic/Atheist  |   .1865484   .1063705     1.75   0.080    -.0222931    .3953899
                    DON'T KNOW/REFUSED [Do not read]  |   .0427983    .065003     0.66   0.510    -.0848245    .1704212
                                                      |
                                                 race |
                                    African American  |  -.0421769   .0715844    -0.59   0.556    -.1827214    .0983676
                                            Hispanic  |   .0560722    .065031     0.86   0.389    -.0716057    .1837501
                             Asian/Pacific Islander.  |  -.0978908   .2115168    -0.46   0.644      -.51317    .3173885
                                     Native American  |   .0411044   .1406243     0.29   0.770    -.2349887    .3171976
                                        Multi-racial  |   .1049698   .1036879     1.01   0.312    -.0986048    .3085443
                      Other [specify]  [Do not read]  |   .2089154   .1689685     1.24   0.217     -.122827    .5406578
                DON'T KNOW/REFUSED/NA. [Do not read]  |  -.1748942   .0968795    -1.81   0.071    -.3651015    .0153131
                                                      |
                                               libcon |
                                            Moderate  |  -.0403251   .0578123    -0.70   0.486    -.1538301      .07318
                                       Conservative.  |  -.0894574   .0607228    -1.47   0.141    -.2086768    .0297619
                    DON'T KNOW/REFUSED [Do not read]  |  -.1393603   .0897442    -1.55   0.121    -.3155586    .0368379
                                                      |
                                               gender |
                                              Female  |  -.0089516   .0352223    -0.25   0.799    -.0781049    .0602017
                                                _cons |  -.1590311    .180859    -0.88   0.380    -.5141186    .1960564
-----------------------------------------------------------------------------------------------------------------------
(est6 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      752}"

.         estadd local demotab "\multicolumn{1}{c}{Yes}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{Yes}"

.         estadd local demo "Yes"

added macro:
               e(demo) : "Yes"

. 
. #delimit;
delimiter now ;
. esttab,
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(30)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Neutralcue
>                 1.Dcue
>                 1.congenial#1.Neutralcue
>                 1.congenial#1.Dcue
>                 _cons
>         )
>         obslast
>         label
>         nobase  
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Neutralcue "Neutral cue"
>                 1.Dcue "Democratic cue"
>                 1.congenial#1.Neutralcue "Congenial x Neutral cue"
>                 1.congenial#1.Dcue "Congenial x Democratic cue"
>         )
>         scalar(
>                 "demo Demographic controls"
>                 "r2 R-square" 
>         ) 
> ;

------------------------------------------------------------------------------------------------------
                                    (1)         (2)         (3)         (4)         (5)         (6)   
------------------------------------------------------------------------------------------------------
Congenial                         0.044       0.102***    0.027+      0.029+      0.089       0.048   
                                (0.029)     (0.030)     (0.014)     (0.016)     (0.054)     (0.073)   
                                [0.129]     [0.001]     [0.051]     [0.072]     [0.103]     [0.511]   
Democratic cue                   -0.016      -0.015      -0.009      -0.006      -0.053      -0.047   
                                (0.029)     (0.029)     (0.012)     (0.012)     (0.044)     (0.045)   
                                [0.588]     [0.612]     [0.449]     [0.615]     [0.233]     [0.299]   
Congenial x Democratic cue        0.155***    0.147***    0.067**     0.061**     0.196*      0.216** 
                                (0.041)     (0.041)     (0.021)     (0.022)     (0.079)     (0.082)   
                                [0.000]     [0.000]     [0.002]     [0.005]     [0.013]     [0.009]   
Neutral cue                                                                       0.013       0.017   
                                                                                (0.046)     (0.048)   
                                                                                [0.771]     [0.725]   
Congenial x Neutral cue                                                           0.072       0.074   
                                                                                (0.078)     (0.084)   
                                                                                [0.356]     [0.376]   
Constant                          0.297***    0.017       0.041***   -1.292       0.189***   -0.159   
                                (0.021)     (2.000)     (0.009)     (1.117)     (0.032)     (0.181)   
                                [0.000]     [0.993]     [0.000]     [0.247]     [0.000]     [0.380]   
------------------------------------------------------------------------------------------------------
Demographic controls                            Yes                     Yes                     Yes   
R-square                         0.0273      0.0887      0.0214      0.0383      0.0502       0.123   
Observations                       2104        2066        2104        2066         758         752   
------------------------------------------------------------------------------------------------------

.         esttab using $tabsavedir/texas-unemp-reg-table-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Neutralcue
>                 1.Dcue
>                 1.congenial#1.Neutralcue
>                 1.congenial#1.Dcue
>                 _cons
>         )       obslast
>         label
>         nobase  
>         noobs
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Neutralcue "Neutral cue"
>                 1.Dcue "Democratic cue"
>                 1.congenial#1.Neutralcue "Congenial x Neutral cue"
>                 1.congenial#1.Dcue "Congenial x Democratic cue"
>         )
>         scalar(
>                 "r2 R$^2$" 
>                 "demotab Demographic controls"
>                 "nobs Respondents"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/texas-unemp-reg-table-fragment.tex)

. #delimit cr     
delimiter now cr
. 
. // =============================================================
. // Table 5 - Fed tax
. // =============================================================
. * Defining at question level
. drop congenial Dcue Rcue Neutralcue

. 
. /* Defining fedtaxup = dep. var. for Q46 (Fed taxes)
> Since the 2010 midterm elections...
> Q46a = Since January 2009, have federal taxes increased, decreased, or remained the same.
> Q46b = Since Barack Obama took office, have federal taxes increased, decreased, or remained the same.
> Q46C = Based on what you have heard, since Barack Obama took office, have federal taxes increased, decreased, or remai
> ned the same.
> */
. gen congenial = (dem == 1)

. gen Neutralcue = (q46arm == 1)

. gen Dcue = (q46arm == 2)

. gen Dcue_guess = (q46arm == 3)

. 
. su fedtax_correct if dem & Neutralcue

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |       107    .4018692     .492583          0          1

. * .40
. su fedtax_correct if rep & Neutralcue

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |       145    .3034483    .4613407          0          1

. * .30
. * Baseline Gap = .10
. su fedtax_correct if dem & Dcue

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |        97    .4639175     .501287          0          1

. * .46
. su fedtax_correct if rep & Dcue

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |       146    .2534247    .4364693          0          1

. * .25
. * inflate gap = .21
. su fedtax_correct if dem & Dcue_guess

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |       121    .4132231    .4944597          0          1

. * .41
. su fedtax_correct if rep & Dcue_guess

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
fedtax_cor~t |       142    .3732394     .485377          0          1

. * .37
. * inflate gap v2 = .04
. 
. eststo clear

. eststo: reg fedtax_correct i.congenial##i.(Dcue Dcue_guess), vce(hc3)

Linear regression                                      Number of obs =     758
                                                       F(  5,   752) =    3.39
                                                       Prob > F      =  0.0049
                                                       R-squared     =  0.0214
                                                       Root MSE      =   .4764

--------------------------------------------------------------------------------------
                     |             Robust HC3
      fedtax_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
         1.congenial |   .0984209   .0613764     1.60   0.109    -.0220685    .2189103
              1.Dcue |  -.0500236    .052838    -0.95   0.344    -.1537511    .0537039
        1.Dcue_guess |   .0697912   .0561149     1.24   0.214    -.0403693    .1799516
                     |
      congenial#Dcue |
                1 1  |    .112072    .087741     1.28   0.202    -.0601744    .2843184
                     |
congenial#Dcue_guess |
                1 1  |  -.0584372     .08646    -0.68   0.499    -.2281689    .1112945
                     |
               _cons |   .3034483   .0384451     7.89   0.000     .2279759    .3789207
--------------------------------------------------------------------------------------
(est1 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      758}"

.         estadd local demotab "\multicolumn{1}{c}{.}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{.}"

.         test 1.congenial#1.Dcue = 1.congenial#1.Dcue_guess

 ( 1)  1.congenial#1.Dcue - 1.congenial#1.Dcue_guess = 0

       F(  1,   752) =    3.81
            Prob > F =    0.0515

. eststo: reg fedtax_correct i.congenial##(Dcue Dcue_guess) $demoX, vce(hc3)

Linear regression                                      Number of obs =     752
                                                       F( 47,   704) =    2.38
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0847
                                                       Root MSE      =  .47397

-----------------------------------------------------------------------------------------------------------------------
                                                      |             Robust HC3
                                       fedtax_correct |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------------------------------------------+----------------------------------------------------------------
                                          1.congenial |   .1052658   .0798129     1.32   0.188    -.0514341    .2619657
                                               1.Dcue |  -.0490914   .0540289    -0.91   0.364    -.1551686    .0569857
                                         1.Dcue_guess |   .0705349   .0581749     1.21   0.226    -.0436821     .184752
                                                      |
                                       congenial#Dcue |
                                                 1 1  |   .1330268   .0931915     1.43   0.154    -.0499397    .3159933
                                                      |
                                 congenial#Dcue_guess |
                                                 1 1  |   -.036655   .0910759    -0.40   0.687     -.215468     .142158
                                                      |
                                                 news |   .0026879   .0087772     0.31   0.760    -.0145448    .0199206
                                            agecohort |  -.0014891   .0017514    -0.85   0.396    -.0049278    .0019496
                                                      |
                                              married |
                                             Married  |   .1562117   .0761215     2.05   0.041     .0067594     .305664
                                            Divorced  |   .2479275   .0898013     2.76   0.006     .0716171    .4242378
                                             Widowed  |   .2399091    .098087     2.45   0.015      .047331    .4324872
                                           Separated  |   .2534723   .2918479     0.87   0.385    -.3195243    .8264688
                DON'T KNOW/REFUSED/NA. [Do not read]  |   .4771693   .2173726     2.20   0.028     .0503932    .9039455
                                                      |
                                             children |
                                                 Two  |  -.0171691   .0802266    -0.21   0.831    -.1746812    .1403429
                                               Three  |   .1372081   .1140672     1.20   0.229    -.0867445    .3611607
                                        Four or more  |   .0977143   .1539415     0.63   0.526    -.2045251    .3999537
                                                None  |   .0810346    .056392     1.44   0.151    -.0296821    .1917512
                                                      |
                                             schoolm1 |
Yes, I have a child/children under 18 enrolled in ..  |   .0850423   .1238248     0.69   0.492    -.1580678    .3281524
Yes, I have a child/children under 18 who are bein..  |  -.3383562   .1043697    -3.24   0.001    -.5432693   -.1334431
No, I do not have any children under 18 in school ..  |  -.1213515    .067084    -1.81   0.071    -.2530601    .0103571
                                                      |
                                               income |
                                    $15,0000-$25,000  |   .0232983   .0986918     0.24   0.813    -.1704672    .2170638
                                     $25,000-$40,000  |   .0344275   .0988396     0.35   0.728    -.1596282    .2284833
                                     $40,000-$75,000  |   .0493752   .0945374     0.52   0.602    -.1362338    .2349842
                                    $75,000-$150,000  |   .1032586   .0965672     1.07   0.285    -.0863356    .2928529
                                  More than $150,000  |   .1464643   .1093833     1.34   0.181    -.0682923    .3612208
                DON'T KNOW/REFUSED/NA. [Do not read]  |  -.0178528   .0955959    -0.19   0.852      -.20554    .1698344
                                                      |
                                                  edu |
                                         High school  |   .0416836   .1340403     0.31   0.756    -.2214831    .3048503
                                        Some college  |   .0795151   .1337661     0.59   0.552    -.1831133    .3421434
                                      College degree  |   .0032333   .1336177     0.02   0.981    -.2591036    .2655702
                 Post-graduate degree (MA, LLD, PhD)  |   .0250523   .1366799     0.18   0.855    -.2432967    .2934014
                DON'T KNOW/REFUSED/NA. [Do not read]  |   .2446608    .578623     0.42   0.673    -.8913725    1.380694
                                                      |
                                             religion |
                                            Catholic  |  -.0298614   .0592877    -0.50   0.615    -.1462633    .0865404
                                     Other Christian  |   -.011067   .0457817    -0.24   0.809     -.100952    .0788181
                                              Jewish  |   .2401593   .1812012     1.33   0.185    -.1156001    .5959187
            Muslim, Buddhist, or other non-Christian  |   .0084872   .1596307     0.05   0.958     -.304922    .3218965
                                    Agnostic/Atheist  |  -.1191766   .0969148    -1.23   0.219    -.3094532    .0711001
                    DON'T KNOW/REFUSED [Do not read]  |   .0262626   .0756752     0.35   0.729    -.1223135    .1748387
                                                      |
                                                 race |
                                    African American  |  -.0522087   .0798783    -0.65   0.514     -.209037    .1046196
                                            Hispanic  |   .0946528   .0686272     1.38   0.168    -.0400856    .2293912
                             Asian/Pacific Islander.  |  -.0114761   .3719421    -0.03   0.975    -.7417247    .7187725
                                     Native American  |  -.0707997   .1242599    -0.57   0.569    -.3147642    .1731647
                                        Multi-racial  |  -.0306563   .0875586    -0.35   0.726    -.2025636     .141251
                      Other [specify]  [Do not read]  |   .0249112   .1843767     0.14   0.893    -.3370829    .3869053
                DON'T KNOW/REFUSED/NA. [Do not read]  |  -.3676258   .1308146    -2.81   0.005    -.6244593   -.1107923
                                                      |
                                               libcon |
                                            Moderate  |   .0586088   .0626736     0.94   0.350    -.0644407    .1816583
                                       Conservative.  |   .0140935   .0691511     0.20   0.839    -.1216735    .1498605
                    DON'T KNOW/REFUSED [Do not read]  |  -.0202492   .1087849    -0.19   0.852    -.2338308    .1933324
                                                      |
                                               gender |
                                              Female  |  -.0731394   .0393821    -1.86   0.064    -.1504599    .0041812
                                                _cons |   .1308524   .2107568     0.62   0.535    -.2829347    .5446395
-----------------------------------------------------------------------------------------------------------------------
(est2 stored)

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      752}"

.         estadd local demotab "\multicolumn{1}{c}{Yes}"

added macro:
            e(demotab) : "\multicolumn{1}{c}{Yes}"

.         estadd local demo "Yes"

added macro:
               e(demo) : "Yes"

.         test 1.congenial#1.Dcue = 1.congenial#1.Dcue_guess

 ( 1)  1.congenial#1.Dcue - 1.congenial#1.Dcue_guess = 0

       F(  1,   704) =    3.35
            Prob > F =    0.0677

. 
. #delimit;
delimiter now ;
. esttab,
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(30)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Dcue
>                 1.Dcue_guess
>                 1.congenial#1.Dcue
>                 1.congenial#1.Dcue_guess
>                 _cons           
>         )
>         obslast
>         label
>         nobase  
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Dcue "Democratic cue"
>                 1.Dcue_guess "Democratic cue w/ guess cue"
>                 1.congenial#1.Dcue "Congenial x Democratic cue"
>                 1.congenial#1.Dcue_guess "Congenial x Democratic cue w/ guess cue"              
>         )
>         scalar(
>                 "demo Demographic controls"
>                 "r2 R-square" 
>         ) 
> ;

------------------------------------------------------
                                    (1)         (2)   
------------------------------------------------------
Congenial                         0.098       0.105   
                                (0.061)     (0.080)   
                                [0.109]     [0.188]   
Democratic cue                   -0.050      -0.049   
                                (0.053)     (0.054)   
                                [0.344]     [0.364]   
Democratic cue w/ guess cue       0.070       0.071   
                                (0.056)     (0.058)   
                                [0.214]     [0.226]   
Congenial x Democratic cue        0.112       0.133   
                                (0.088)     (0.093)   
                                [0.202]     [0.154]   
Congenial x Democratic cue w~u   -0.058      -0.037   
                                (0.086)     (0.091)   
                                [0.499]     [0.687]   
Constant                          0.303***    0.131   
                                (0.038)     (0.211)   
                                [0.000]     [0.535]   
------------------------------------------------------
Demographic controls                            Yes   
R-square                         0.0214      0.0847   
Observations                        758         752   
------------------------------------------------------

.         esttab using $tabsavedir/texas-fedtax-reg-table-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(
>                 1.congenial
>                 1.Dcue
>                 1.Dcue_guess
>                 1.congenial#1.Dcue
>                 1.congenial#1.Dcue_guess
>                 _cons           
>         )       obslast
>         label
>         nobase  
>         noobs
>         nomtitle
>         coeflabel(
>                 1.congenial "Congenial"
>                 1.Dcue "Democratic cue"
>                 1.Dcue_guess "Democratic cue w/ guess cue"
>                 1.congenial#1.Dcue "Congenial x Democratic cue"
>                 1.congenial#1.Dcue_guess "Congenial x Democratic cue w/ guess cue"              
>         )
>         scalar(
>                 "r2 R$^2$" 
>                 "demotab Demographic controls"
>                 "nobs Respondents"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/texas-fedtax-reg-table-fragment.tex)

. #delimit cr     
delimiter now cr
. 
end of do-file

. 
. // **********************************************************
. * Study 3:  The Effect of the Scoring Method on Partisan Gaps
. // **********************************************************
. * Figure 2
. * Partisan Gaps in Knowledge in Different Question Designs
. do ./mturk/fig-partisan-gap-imc-24k.do

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. grstyle init

. grstyle set plain, 

. 
. eststo clear

. foreach item of varlist $items avg {
  2.         foreach arm in 14k 24k {
  3.                 qui: reg `item' ib1.pid if (pid_str!="Independent") & (question_type=="`arm'"), vce(hc3)
  4.                 est store `item'_`arm'          
  5.                 * Store estimates for average of conditions for annotations later
.                 if "`item'"=="avg" {
  6.                         local beta_`arm' = round(_b[3.pid], 0.01)
  7.                         dis `beta_`arm''
  8.                 }
  9.         }
 10. }
.22
.1

. 
. /* In order that should appear
> IDA = 14k
> CUD = RW
> FSR = FSR
> IMC = 14k
> CCD = 24k
> */
. 
. local AVG_MARKER_OPTS offset(0) mcolor(navy) mlcolor(black) mlwidth(vvvthin)

. coefplot ///
>         (*_14k) (avg_14k, `AVG_MARKER_OPTS') ///
>         || (*_24k) (avg_24k, `AVG_MARKER_OPTS'), /// 
>         msymbol(s) ///
>         mcolor(gs8) ///
>         mlcolor(gs6) ///
>         mlwidth(vvvthin) ///
>         ciopts( color(gs9) ) ///        
>         keep(3.pid) ///
>         asequation /// "set equation to model name or string" make the rows the models
>         swapnames /// "swap coefficient names and equation names"
>         subtitle("") /// Remove subtitles for now
>         byopts(row(1)) /// Force results to be in one row (1xn)
>         xline(0, lcolor(gs10) lpattern(dash) lwidth(medium)) ///
>         xlabel(-.3(.3).6) ///
>         xscale(range(-.2 .53)) ///
>         plotregion(margin(zero) ) ///   
>         plotregion(lcolor(black) margin(zero) lwidth(medthin)) /// draw box around columns
>         graphregion(margin(zero)) ///
>         ytick(none) /// remove horizontal grids
>         yscale(noline alt)  /// swap labels to RHS
>         eqrename( ///
>                 birth_14k = "{bf:Obama birthplace}" ///
>                 religion_14k = "{bf:Obama religion}" ///
>                 illegal_14k = "{bf:ACA illegal}" ///
>                 death_14k = "{bf:ACA death panels}" ///
>                 increase_14k = "{bf:GW causes}" ///
>                 science_14k = "{bf:GW scientists agree}" ///
>                 fraud_14k = "{bf:Voter fraud}" ///
>                 mmr_14k = "{bf:MMR vaccine}" ///
>                 deficit_14k = "{bf:Budget deficit}" ///
>                 avg_14k = "{bf:Average}" ///            
>                 birth_24k = "{bf:Obama birthplace}" ///
>                 religion_24k = "{bf:Obama religion}" ///
>                 illegal_24k = "{bf:ACA illegal}" ///
>                 death_24k = "{bf:ACA death panels}" ///
>                 increase_24k = "{bf:GW causes}" ///
>                 science_24k = "{bf:GW scientists agree}" ///
>                 fraud_24k = "{bf:Voter fraud}" ///
>                 mmr_24k = "{bf:MMR vaccine}" ///
>                 deficit_24k = "{bf:Budget deficit}" ///
>                 avg_24k = "{bf:Average}" ///                                                            
>                 )

. 
. 
. * Add column titles     
. addplot 1: , title("{bf:Condition 4}" "{bf:(NDK+NSP+GD+NNI)}", size(medsmall)) norescaling

. addplot 2: , title(" " "{bf:Confidence Coding Design (CCD)}", size(medsmall)) norescaling

. 
. * graph margin
. gr_edit .style.editstyle margin(left) editcopy 

. * plot margin
. gr_edit .plotregion1.style.editstyle margin(left) editcopy

. * Remove ylabel ticks
. gr_edit .plotregion1.yaxis1[2].style.editstyle majorstyle(tickstyle(show_ticks(no))) editcopy

. * Shift labels to left
. gr_edit .plotregion1.move yaxis1[2] leftof 9 1

. 
. * reset margins back to zero to flush with new col of labels
. gr_edit .style.editstyle margin(zero) editcopy 

. gr_edit .plotregion1.style.editstyle margin(zero) editcopy

. 
. 
. * Add annotes
. local y_heigh_coord = 9.748674339250291

. local annote_style angle(default) size(small) color(black) horizontal(left) vertical(middle) margin(zero) linegap(zero
> ) drawbox(no) boxmargin(zero) fillcolor(bluishgray) linestyle( width(thin) color(black) pattern(solid)) box_alignment(
> east) editcopy

. 
. gr_edit .plotregion1.plotregion1[1].AddTextBox added_text editor `y_heigh_coord' `beta_14k'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[1].added_text[1].text.Arrpush `beta_14k'

. 
. gr_edit .plotregion1.plotregion1[2].AddTextBox added_text editor `y_heigh_coord' `beta_24k'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[2].added_text[1].text.Arrpush `beta_24k'

. 
. gr_edit .legend.draw_view.setstyle, style(no)

. 
. savefig, path("$figsavedir/partisan-gap-by-item-arm-14k-24k") format(tif png pdf eps) override(width(1200))
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.tif
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.png
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k.eps

. 
end of do-file

. 
. * Table 6
. * Confidence Scoring and Knowledge Gaps: MTurk 2
. do ./mturk_hk/reg_table.do

. import delimited $rootdir/data/mturk_hk/mturk_hk_relative_scoring_MC.csv, clear
(7 vars, 27644 obs)

. 
. rename responses responses_str

. gen responses = (responses_str=="1")

. replace responses = . if responses_str=="NA"
(13368 real changes made, 13368 to missing)

. 
. rename congenial congenial_str

. gen congenial = (congenial_str=="1")

. replace congenial = . if congenial_str=="NA"
(4076 real changes made, 4076 to missing)

. 
. rename survey survey_str

. encode survey_str, gen(survey)

. 
. local q_items aca aca2 gg dt

. local close_relscore (response_type=="closed" | response_type=="relscore_c_10")

. eststo clear

. foreach q_item in `q_items' {
  2.         eststo: qui reg responses i.congenial##i.survey if q_item == "`q_item'" & `close_relscore', cluster(respond
> ent) 
  3.                 estadd local itemFE "\multicolumn{1}{c}{No}"
  4.                 estadd local items 1
  5.                 estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"
  6.                 local nobs: display %9.0fc `e(N)'
  7.                 estadd local nobs "\multicolumn{1}{c}{`nobs'}"
  8. }
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{902}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      902}"
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{902}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      902}"
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{902}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      902}"
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{902}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      902}"

. eststo: qui reghdfe responses i.congenial##i.survey if `close_relscore', absorb(q_item) cluster(respondent) 
(est5 stored)

.         estadd local itemFE "\multicolumn{1}{c}{Yes}"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

.         estadd local items 4

added macro:
              e(items) : "4"

.         estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{902}"

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    3,608}"

. 
. #delimit;
delimiter now ;
. esttab,
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(30)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(_cons 1.congenial 2.survey 1.congenial#2.survey)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle        
>         coeflabel(
>                 _cons "Constant"
>                 1.congenial "Congenial"
>                 2.survey "Relative Scoring (RS)"
>                 1.congenial#2.survey "Congenial $\times$ RS"
>                 )       
>         scalar(
>                 "r2 R$^2$" 
>                 "itemFE Survey item FE"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         title("Dep. var. is 1(response is correct)")    
> ;

Dep. var. is 1(response is correct)
------------------------------------------------------------------------------------------
                                    (1)         (2)         (3)         (4)         (5)   
------------------------------------------------------------------------------------------
Congenial                         0.091*      0.084*      0.087*      0.005       0.025   
                                (0.038)     (0.040)     (0.041)     (0.038)     (0.023)   
                                [0.018]     [0.036]     [0.033]     [0.895]     [0.270]   
Relative Scoring (RS)            -0.179***   -0.201***   -0.206***   -0.737***   -0.377***
                                (0.028)     (0.030)     (0.032)     (0.028)     (0.018)   
                                [0.000]     [0.000]     [0.000]     [0.000]     [0.000]   
Congenial $\times$ RS            -0.071+     -0.070+     -0.098*      0.031       0.024   
                                (0.039)     (0.041)     (0.041)     (0.046)     (0.026)   
                                [0.073]     [0.092]     [0.018]     [0.509]     [0.351]   
Constant                          0.179***    0.207***    0.217***    0.794***    0.376***
                                (0.028)     (0.030)     (0.030)     (0.024)     (0.017)   
                                [0.000]     [0.000]     [0.000]     [0.000]     [0.000]   
------------------------------------------------------------------------------------------
R$^2$                             0.119       0.128       0.149       0.528       0.305   
Survey item FE                 \multicolumn{1}{c}{No}    \multicolumn{1}{c}{No}    \multicolumn{1}{c}{No}    \multicolum
> n{1}{c}{No}    \multicolumn{1}{c}{Yes}   
Items                                 1           1           1           1           4   
Respondents                    \multicolumn{1}{c}{902}    \multicolumn{1}{c}{902}    \multicolumn{1}{c}{902}    \multico
> lumn{1}{c}{902}    \multicolumn{1}{c}{902}   
Respondent-items               \multicolumn{1}{c}{      902}    \multicolumn{1}{c}{      902}    \multicolumn{1}{c}{    
>   902}    \multicolumn{1}{c}{      902}    \multicolumn{1}{c}{    3,608}   
------------------------------------------------------------------------------------------

. esttab using $tabsavedir/mturk-hk-reg-table-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(_cons 1.congenial 2.survey 1.congenial#2.survey)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle        
>         coeflabel(
>                 _cons "Constant"
>                 1.congenial "Congenial"
>                 2.survey "Relative Scoring (RS)"
>                 1.congenial#2.survey "Congenial $\times$ RS"
>                 )       
>         scalar(
>                 "r2 R$^2$" 
>                 "itemFE Survey item FE"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
> ;
(output written to D:/partisan-gaps/tabs/mturk-hk-reg-table-fragment.tex)

. 
end of do-file

. 
. * Figure 3
. * Partisan Gaps by Coding (MTurk 2)
. do ./mturk_hk/barplots.do

. import delimited $rootdir/data/mturk_hk/mturk_hk_relative_scoring_MC.csv, clear
(7 vars, 27644 obs)

. 
. rename responses responses_str

. gen responses = (responses_str=="1")

. replace responses = . if responses_str=="NA"
(13368 real changes made, 13368 to missing)

. 
. rename congenial congenial_str

. gen congenial = (congenial_str=="1")

. replace congenial = . if congenial_str=="NA"
(4076 real changes made, 4076 to missing)

. 
. rename survey survey_str

. encode survey_str, gen(survey)

. 
. local q_items aca aca2 gg dt

. local close_relscore (response_type=="closed" | response_type=="relscore_c_10")

. 
. grstyle init

. grstyle set plain, nogrid noextend horizontal

. 
. graph drop _all

. foreach q_item in `q_items' {
  2.         reg responses i.congenial##i.survey if q_item == "`q_item'" & `close_relscore', cluster(respondent) 
  3. 
.         margins survey#congenial, post
  4.         #delimit;
delimiter now ;
.         coefplot,
>                 keep(*1.congenial*)
>                 recast(bar)
>                 vertical
>                 color(gs7) fcolor(none) lwidth(thick)
>                 ciopts(recast(rcap) lwidth(medium) lcolor(gs3))
>                 xlabel(1 "MC" 2 "CCD",val noticks)
>                 xscale( lc(none))
>                 yscale(range(0 .85))
>                 ylabel(0(.2).8)
>                 graphregion(color(white) lc(white) lw(medium) margin(0 0 0 2)) 
>                 plotregion(margin(30 30 0 0))
>                 name(`q_item')
>         ;
  5.         #delimit cr
delimiter now cr
.         // graph export $figsavedir/relative_score_`q_item'.pdf, replace
.         savefig, path("$figsavedir/relative_score_`q_item'") format(png pdf eps tif) override(width(1200))
  6. }

Linear regression                                      Number of obs =     902
                                                       F(  2,   901) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.1190
                                                       Root MSE      =  .31721

                               (Std. Err. adjusted for 902 clusters in respondent)
----------------------------------------------------------------------------------
                 |               Robust
       responses |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
     1.congenial |   .0909224   .0383762     2.37   0.018     .0156053    .1662396
                 |
          survey |
             RL  |  -.1793478   .0283455    -6.33   0.000    -.2349787    -.123717
                 |
congenial#survey |
           1#RL  |  -.0707612   .0394049    -1.80   0.073    -.1480972    .0065749
                 |
           _cons |   .1793478   .0283455     6.33   0.000      .123717    .2349787
----------------------------------------------------------------------------------

Adjusted predictions                              Number of obs   =        902
Model VCE    : Robust

Expression   : Linear prediction, predict()

----------------------------------------------------------------------------------
                 |            Delta-method
                 |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
survey#congenial |
       Closed#0  |   .1793478   .0283455     6.33   0.000      .123717    .2349787
       Closed#1  |   .2702703   .0258702    10.45   0.000     .2194975    .3210431
           RL#0  |   5.55e-17   3.29e-10     0.00   1.000    -6.46e-10    6.46e-10
           RL#1  |   .0201613   .0089449     2.25   0.024      .002606    .0377166
----------------------------------------------------------------------------------
Graph saved as D:/partisan-gaps/figs/relative_score_aca.png
(file D:/partisan-gaps/figs/relative_score_aca.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/relative_score_aca.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/relative_score_aca.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/relative_score_aca.eps
Graph saved as D:/partisan-gaps/figs/relative_score_aca.tif

Linear regression                                      Number of obs =     902
                                                       F(  3,   901) =   49.70
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1277
                                                       Root MSE      =  .32876

                               (Std. Err. adjusted for 902 clusters in respondent)
----------------------------------------------------------------------------------
                 |               Robust
       responses |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
     1.congenial |   .0840188   .0399255     2.10   0.036      .005661    .1623766
                 |
          survey |
             RL  |  -.2007746   .0304558    -6.59   0.000    -.2605471   -.1410021
                 |
congenial#survey |
           1#RL  |  -.0696046   .0413164    -1.68   0.092    -.1506921    .0114828
                 |
           _cons |   .2065217   .0299093     6.90   0.000     .1478217    .2652218
----------------------------------------------------------------------------------

Adjusted predictions                              Number of obs   =        902
Model VCE    : Robust

Expression   : Linear prediction, predict()

----------------------------------------------------------------------------------
                 |            Delta-method
                 |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
survey#congenial |
       Closed#0  |   .2065217   .0299093     6.90   0.000     .1478217    .2652218
       Closed#1  |   .2905405   .0264476    10.99   0.000     .2386345    .3424466
           RL#0  |   .0057471   .0057433     1.00   0.317    -.0055247     .017019
           RL#1  |   .0201613   .0089449     2.25   0.024      .002606    .0377166
----------------------------------------------------------------------------------
Graph saved as D:/partisan-gaps/figs/relative_score_aca2.png
(file D:/partisan-gaps/figs/relative_score_aca2.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/relative_score_aca2.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/relative_score_aca2.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/relative_score_aca2.eps
Graph saved as D:/partisan-gaps/figs/relative_score_aca2.tif

Linear regression                                      Number of obs =     902
                                                       F(  2,   901) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.1488
                                                       Root MSE      =  .32682

                               (Std. Err. adjusted for 902 clusters in respondent)
----------------------------------------------------------------------------------
                 |               Robust
       responses |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
     1.congenial |   .0866627    .040581     2.14   0.033     .0070185     .166307
                 |
          survey |
             RL  |  -.2058971   .0315332    -6.53   0.000    -.2677841     -.14401
                 |
congenial#survey |
           1#RL  |   -.098157   .0413813    -2.37   0.018    -.1793719   -.0169421
                 |
           _cons |   .2173913   .0304754     7.13   0.000     .1575802    .2772024
----------------------------------------------------------------------------------

Adjusted predictions                              Number of obs   =        902
Model VCE    : Robust

Expression   : Linear prediction, predict()

----------------------------------------------------------------------------------
                 |            Delta-method
                 |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
survey#congenial |
       Closed#0  |   .2173913   .0304754     7.13   0.000     .1575802    .2772024
       Closed#1  |   .3040541   .0267968    11.35   0.000     .2514627    .3566454
           RL#0  |   .0114943   .0080988     1.42   0.156    -.0044004     .027389
           RL#1  |  -8.33e-17   8.71e-10    -0.00   1.000    -1.71e-09    1.71e-09
----------------------------------------------------------------------------------
Graph saved as D:/partisan-gaps/figs/relative_score_gg.png
(file D:/partisan-gaps/figs/relative_score_gg.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/relative_score_gg.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/relative_score_gg.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/relative_score_gg.eps
Graph saved as D:/partisan-gaps/figs/relative_score_gg.tif

Linear regression                                      Number of obs =     902
                                                       F(  3,   901) =  362.30
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.5276
                                                       Root MSE      =  .34313

                               (Std. Err. adjusted for 902 clusters in respondent)
----------------------------------------------------------------------------------
                 |               Robust
       responses |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
     1.congenial |   .0049941   .0378444     0.13   0.895    -.0692793    .0792675
                 |
          survey |
             RL  |  -.7374673   .0277658   -26.56   0.000    -.7919604   -.6829742
                 |
congenial#survey |
           1#RL  |   .0305083   .0461513     0.66   0.509    -.0600683    .1210849
                 |
           _cons |   .7939189   .0235628    33.69   0.000     .7476746    .8401632
----------------------------------------------------------------------------------

Adjusted predictions                              Number of obs   =        902
Model VCE    : Robust

Expression   : Linear prediction, predict()

----------------------------------------------------------------------------------
                 |            Delta-method
                 |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------+----------------------------------------------------------------
survey#congenial |
       Closed#0  |   .7939189   .0235628    33.69   0.000     .7476746    .8401632
       Closed#1  |    .798913   .0296141    26.98   0.000     .7407925    .8570336
           RL#0  |   .0564516   .0146879     3.84   0.000     .0276251    .0852781
           RL#1  |    .091954   .0219548     4.19   0.000     .0488655    .1350425
----------------------------------------------------------------------------------
Graph saved as D:/partisan-gaps/figs/relative_score_dt.png
(file D:/partisan-gaps/figs/relative_score_dt.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/relative_score_dt.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/relative_score_dt.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/relative_score_dt.eps
Graph saved as D:/partisan-gaps/figs/relative_score_dt.tif

. 
. 
. // * Barplot for all
. // qui reghdfe responses congenial##survey if `close_relscore', absorb(q_item) cluster(respondent) 
. 
. // mat coefmat = e(b)
. // mat list coefmat
. // local baseline = coefmat[1, 2] /* 1.rep */
. 
. // preserve
. // regsave
. // drop if var=="_cons"
. // drop if var=="2.survey"
. // drop if strpos(var, "0b")  // Drop base variables
. // drop if strpos(var, "1b.survey") // Drop base variables
. 
. // * Gen coef for plotting (add estimates back to baseline)
. // gen est = coef
. // label var est "Original reg estimate (before adding back to baseline)"
. // replace coef = `baseline' + coef if var!="1.congenial"
. 
. // * Construct CI
. // gen uci = coef + 1.96 * stderr
. // gen lci = coef - 1.96 * stderr
. // replace uci = 0 if var=="_cons"
. // replace lci = 0 if var=="_cons"
. 
. // gen porder = _n
. // label define xlab 1 "MC" 2 "RS"
. // label values porder xlab
. 
. // *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. // * Graph settings
. // set scheme s2mono
. // local YLAB_OPTS angle(horizontal) labsize(large) nogrid
. // local YRANGE 0(0.05).2
. // local BASELINE_XLIM = _N+.5
. // local CI_WIDTH medthick
. // local XLAB_SIZE large
. // local BAR_OPTS                color(gs7) fcolor(none) lwidth(thick)
. // *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
. // #delimit;
. //      twoway  
. //                      (bar coef porder if porder==1, `BAR_OPTS') 
. //                      (bar coef porder if porder==2, `BAR_OPTS'
. //                              xlabel(,val labsize(`XLAB_SIZE') )
. //                      ) 
. //                      (rcap uci lci porder if porder!=1, 
. //                              color(gs5)
. //                              lwidth(`CI_WIDTH') 
. //                              legend(off)
. //                              ylabel(`YRANGE', `YLAB_OPTS' ) 
. //                              xlabel(, notick)
. //                              yscale(r(0 .21))
. //                              xscale(noextend lcolor(none))
. //                              graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
. //                              bgcolor(white)
. //                              plotregion(margin(30 30 0 0))
. //                      )               
. //                      (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
. //                              xlabel(1 2)
. //                              recast(line) color(black) lpattern(dash)
. //                              name(all)
. //                      )
. //              ;
. //      #delimit cr             
. // restore      
. // graph export $figsavedir/relative_score.pdf, replace 
. 
end of do-file

. 
. // *********************
. * Validty (from MTurk 1)
. // *********************
. * Table 7
. * Validity and Reliability
. do ./mturk/corr-validity.do

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. // =================================================================================
. 
. tab interest_1

 interest_1 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |         27        2.24        2.24
          1 |         37        3.07        5.30
          2 |         59        4.89       10.19
          3 |         55        4.56       14.75
          4 |         78        6.46       21.21
          5 |        183       15.16       36.37
          6 |        138       11.43       47.80
          7 |        223       18.48       66.28
          8 |        229       18.97       85.25
          9 |        109        9.03       94.28
         10 |         69        5.72      100.00
------------+-----------------------------------
      Total |      1,207      100.00

. tab vote_1

     vote_1 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |         54        4.47        4.47
          1 |         37        3.07        7.54
          2 |         46        3.81       11.35
          3 |         42        3.48       14.83
          4 |         28        2.32       17.15
          5 |        128       10.60       27.75
          6 |         47        3.89       31.65
          7 |         76        6.30       37.95
          8 |        129       10.69       48.63
          9 |        121       10.02       58.66
         10 |        499       41.34      100.00
------------+-----------------------------------
      Total |      1,207      100.00

. tab deficit

      =1 if |
response is |
  wrong and |
  congenial |
   to R for |
    deficit |
       item |      Freq.     Percent        Cum.
------------+-----------------------------------
  Incorrect |        150       13.29       13.29
    Correct |        979       86.71      100.00
------------+-----------------------------------
      Total |      1,129      100.00

. tab educ

                             educ |      Freq.     Percent        Cum.
----------------------------------+-----------------------------------
       Four year college graduate |        498       41.26       41.26
High school diploma or equivalent |        118        9.78       51.04
           No high school diploma |          7        0.58       51.62
             Post-graduate degree |        194       16.07       67.69
                     Some college |        390       32.31      100.00
----------------------------------+-----------------------------------
                            Total |      1,207      100.00

. tab survey

     survey |      Freq.     Percent        Cum.
------------+-----------------------------------
        14k |        235       19.47       19.47
        24k |        254       21.04       40.51
        FSR |        251       20.80       61.31
        IPS |        239       19.80       81.11
         RW |        228       18.89      100.00
------------+-----------------------------------
      Total |      1,207      100.00

. 
. // =================================================================================
. // Coding correct responses (for the four groups: ips rw fsr x14k)
. // =================================================================================
. * 1 birth
. local _stem "birth"

. local _correct = "The US"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (strpos(`_original_response', "`_correct'")>0) if ~missing(`_original_respo
> nse')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. * 14k has a space after "The US" --> "The US "
. 
. * 2 religion
. local _stem "religion"

. local _correct = "Christian"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (`_original_response'=="`_correct'") if ~missing(`_original_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. * 3 illegal
. local _stem "illegal"

. local _correct = "not give illegal immigrants"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (strpos(strlower(`_original_response'), "`_correct'")>0) if ~missing(`_orig
> inal_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. * 4 death
. local _stem "death"

. local _correct = "Does not create government panels to make decisions about end-of-life care"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (`_original_response'=="`_correct'") if ~missing(`_original_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. * 5 increase
. local _stem "increase"

. local _correct = "human activity"

. foreach qtype in ips rw fsr {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (strpos(strlower(`_original_response'), "`_correct'")>0) if ~missing(`_orig
> inal_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)

. * 14k phrases differently
. * with "Increasing because human activity,..." instead of
. * with "Increasing because of human activity,..."
. local _correct = "Increasing because human activity, like burning coal and gasoline"

. local _correct_indicator c`_stem'_x14k

. local _original_response x14k_`_stem'

. cap drop `_correct_indicator'

. gen byte `_correct_indicator' = (`_original_response'=="`_correct'") if ~missing(`_original_response')
(972 missing values generated)

. 
. * 6 science
. local _stem "science"

. local _correct = "Most climate scientists believe that global warming is occurring"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (`_original_response'=="`_correct'") if ~missing(`_original_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. * 7 fraud
. local _stem "fraud"

. local _correct = "Did not win the majority of the legally cast votes"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (`_original_response'=="`_correct'") if ~missing(`_original_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. * 8 mmr
. local _stem "mmr"

. local _correct = "not cause autism"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (strpos(strlower(`_original_response'), "`_correct'")>0) if ~missing(`_orig
> inal_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. // * 14k phrases differently
. // * with "Not cause autism in children" instead of
. // * with "Does not cause autism is children"
. 
. // * fsr phrases differently (correctly)
. // * with "Not cause autism in children" instead of
. // * with "Does not cause autism is children"
. 
. * 9 deficit
. local _stem "deficit"

. local _correct = "increased"

. foreach qtype in ips rw fsr x14k {
  2.         local _correct_indicator c`_stem'_`qtype'
  3.         local _original_response `qtype'_`_stem'
  4.         cap drop `_correct_indicator'
  5.         gen byte `_correct_indicator' = (strpos(strlower(`_original_response'), "`_correct'")>0) if ~missing(`_orig
> inal_response')
  6. }
(968 missing values generated)
(979 missing values generated)
(956 missing values generated)
(972 missing values generated)

. 
. // =================================================================================
. // Coding correct responses (for x24k)
. * 1 birth
. local _stem "birth"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="10") if x24k_`_stem'!="NA"
(974 missing values generated)

. 
. * 2 religion
. local _stem "religion"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="0") if x24k_`_stem'!="NA"
(981 missing values generated)

. 
. * 3 illegal
. local _stem "illegal"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="0") if x24k_`_stem'!="NA"
(1058 missing values generated)

. 
. * 4 death
. local _stem "death"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="10") if x24k_`_stem'!="NA"
(1062 missing values generated)

. 
. * 5 increase
. local _stem "increase"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="10") if x24k_`_stem'!="NA"
(968 missing values generated)

. 
. * 6 science
. local _stem "science"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="0") if x24k_`_stem'!="NA"
(963 missing values generated)

. 
. * 7 fraud
. local _stem "fraud"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="0") if x24k_`_stem'!="NA"
(968 missing values generated)

. 
. * 8 mmr
. local _stem "mmr"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="0") if x24k_`_stem'!="NA"
(982 missing values generated)

. 
. * 9 deficit
. local _stem "deficit"

. local _correct_indicator c`_stem'_x24k

. cap drop `_correct_indicator' 

. gen double `_correct_indicator' = (x24k_`_stem'=="10") if x24k_`_stem'!="NA"
(1031 missing values generated)

. 
. 
. // =================================================================================
. // Tally totals by the 5 question types
. foreach qtype in ips rw fsr x14k x24k {
  2.         cap drop cavg_`qtype'
  3.         egen double cavg_`qtype' = rowtotal(cbirth_`qtype' creligion_`qtype' cillegal_`qtype' cdeath_`qtype' cincre
> ase_`qtype' cscience_`qtype' cfraud_`qtype' cmmr_`qtype' cdeficit_`qtype') if ~missing(cbirth_`qtype')
  4.         replace cavg_`qtype' = cavg_`qtype'/9
  5. }
(968 missing values generated)
(237 real changes made)
(979 missing values generated)
(228 real changes made)
(956 missing values generated)
(246 real changes made)
(972 missing values generated)
(235 real changes made)
(974 missing values generated)
(215 real changes made)

. 
. 
. gen double cavg = .
(1207 missing values generated)

. replace cavg = cavg_ips if question_type=="IPS"
(239 real changes made)

. replace cavg = cavg_rw if question_type=="RW"
(228 real changes made)

. replace cavg = cavg_fsr if question_type=="FSR"
(251 real changes made)

. replace cavg = cavg_x14k if question_type=="14k"
(235 real changes made)

. replace cavg = cavg_x24k if question_type=="24k"
(233 real changes made)

. 
. su cavg*

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
    cavg_ips |       239    .7605765    .2366107          0          1
     cavg_rw |       228    .7305068    .2174891   .1111111          1
    cavg_fsr |       251    .6427623    .2644708          0          1
   cavg_x14k |       235    .6619385     .227336   .1111111          1
   cavg_x24k |       233    .4954697    .2723476          0          1
-------------+--------------------------------------------------------
        cavg |      1186     .658235    .2610913          0          1

. 
. 
. // =================================================================================
. // Make education continuous
. cap drop ceduc

. gen ceduc = .
(1207 missing values generated)

. replace ceduc = 1 if educ_str=="No high school diploma"
(7 real changes made)

. replace ceduc = 2 if educ_str=="High school diploma or equivalent"
(118 real changes made)

. replace ceduc = 3 if educ_str=="Some college"
(390 real changes made)

. replace ceduc = 4 if educ_str=="Four year college graduate"
(498 real changes made)

. replace ceduc = 5 if educ_str=="Post-graduate degree"
(194 real changes made)

. 
. // Score the knowledge question
. cap drop know

. gen know = .
(1207 missing values generated)

. replace know = (deficits=="Democratic party is better at that") & ~missing(deficits)
(1207 real changes made)

. 
. global criteria interest_1 vote_1 ceduc

. 
. 
. // =================================================================================
. // =================================================================================
. // Correlation with criterion
. // =================================================================================
. foreach qtype in ips rw fsr x14k x24k {
  2. foreach criterion of global criteria {
  3.         corr cavg_`qtype' `criterion'
  4.         local corr_`qtype'_`criterion' = r(rho)
  5.         corr_pval
  6.         local corrpval_`qtype'_`criterion' = r(corr_pval)
  7.         dis in white `corr_`qtype'_`criterion''
  8. }
  9. }
(obs=239)

             | cavg_ips intere~1
-------------+------------------
    cavg_ips |   1.0000
  interest_1 |   0.1154   1.0000

.11536599
(obs=239)

             | cavg_ips   vote_1
-------------+------------------
    cavg_ips |   1.0000
      vote_1 |   0.1377   1.0000

.13772858
(obs=239)

             | cavg_ips    ceduc
-------------+------------------
    cavg_ips |   1.0000
       ceduc |   0.0774   1.0000

.07735599
(obs=228)

             |  cavg_rw intere~1
-------------+------------------
     cavg_rw |   1.0000
  interest_1 |   0.2779   1.0000

.27787499
(obs=228)

             |  cavg_rw   vote_1
-------------+------------------
     cavg_rw |   1.0000
      vote_1 |   0.1679   1.0000

.16789151
(obs=228)

             |  cavg_rw    ceduc
-------------+------------------
     cavg_rw |   1.0000
       ceduc |   0.1671   1.0000

.16706329
(obs=251)

             | cavg_fsr intere~1
-------------+------------------
    cavg_fsr |   1.0000
  interest_1 |   0.2706   1.0000

.27061391
(obs=251)

             | cavg_fsr   vote_1
-------------+------------------
    cavg_fsr |   1.0000
      vote_1 |   0.2760   1.0000

.27596207
(obs=251)

             | cavg_fsr    ceduc
-------------+------------------
    cavg_fsr |   1.0000
       ceduc |   0.2296   1.0000

.22956817
(obs=235)

             | cavg~14k intere~1
-------------+------------------
   cavg_x14k |   1.0000
  interest_1 |   0.4122   1.0000

.41220639
(obs=235)

             | cavg~14k   vote_1
-------------+------------------
   cavg_x14k |   1.0000
      vote_1 |   0.2976   1.0000

.29762645
(obs=235)

             | cavg~14k    ceduc
-------------+------------------
   cavg_x14k |   1.0000
       ceduc |   0.1802   1.0000

.18019929
(obs=233)

             | cavg~24k intere~1
-------------+------------------
   cavg_x24k |   1.0000
  interest_1 |   0.3795   1.0000

.37948511
(obs=233)

             | cavg~24k   vote_1
-------------+------------------
   cavg_x24k |   1.0000
      vote_1 |   0.3564   1.0000

.35637443
(obs=233)

             | cavg~24k    ceduc
-------------+------------------
   cavg_x24k |   1.0000
       ceduc |   0.3018   1.0000

.30183777

. 
. #delimit;
delimiter now ;
. matrix corr_table2 = (
>         `corr_ips_interest_1', `corr_rw_interest_1', `corr_fsr_interest_1', `corr_x14k_interest_1', `corr_x24k_interes
> t_1' \
>         // `corrpval_ips_interest_1', `corrpval_rw_interest_1', `corrpval_fsr_interest_1', `corrpval_x14k_interest_1',
>  `corrpval_x24k_interest_1' \
>         `corr_ips_vote_1', `corr_rw_vote_1', `corr_fsr_vote_1', `corr_x14k_vote_1', `corr_x24k_vote_1' \
>         // `corrpval_ips_vote_1', `corrpval_rw_vote_1', `corrpval_fsr_vote_1', `corrpval_x14k_vote_1', `corrpval_x24k_
> vote_1' \
>         `corr_ips_ceduc', `corr_rw_ceduc', `corr_fsr_ceduc', `corr_x14k_ceduc', `corr_x24k_ceduc'
>         // `corrpval_ips_ceduc', `corrpval_rw_ceduc', `corrpval_fsr_ceduc', `corrpval_x14k_ceduc', `corrpval_x24k_cedu
> c' 
>         // `corr_ips_pid_strength_1', `corr_rw_pid_strength_1', `corr_fsr_pid_strength_1', `corr_x14k_pid_strength_1',
>  `corr_x24k_pid_strength_1' 
> )
> ;

. #delimit cr
delimiter now cr
. matrix colnames corr_table2 = "IPS/IDA" "RW/CUD" "FSR/FSR" "14k/IMC" "24k/CCD" 

. // matrix rownames corr_table2 = "interest" "." "participation" "." "education" "."
. matrix rownames corr_table2 = "Politicalinterest" "Politicalparticipation" "Education"

. matlist corr_table2, format(%6.3f)

             | IPS/~A  RW/CUD  FSR/~R  14k/~C  24k/~D 
-------------+----------------------------------------
Politicali~t |  0.115   0.278   0.271   0.412   0.379 
Politicalp~n |  0.138   0.168   0.276   0.298   0.356 
   Education |  0.077   0.167   0.230   0.180   0.302 

. 
. dis `corrpval_ips_interest_1'
.07505754

. #delimit;
delimiter now ;
. matrix corr_table2_pval = (
>         `corr_ips_interest_1', `corr_rw_interest_1', `corr_fsr_interest_1', `corr_x14k_interest_1', `corr_x24k_interes
> t_1' \
>         `corrpval_ips_interest_1', `corrpval_rw_interest_1', `corrpval_fsr_interest_1', `corrpval_x14k_interest_1', `c
> orrpval_x24k_interest_1' \
>         `corr_ips_vote_1', `corr_rw_vote_1', `corr_fsr_vote_1', `corr_x14k_vote_1', `corr_x24k_vote_1' \
>         `corrpval_ips_vote_1', `corrpval_rw_vote_1', `corrpval_fsr_vote_1', `corrpval_x14k_vote_1', `corrpval_x24k_vot
> e_1' \
>         `corr_ips_ceduc', `corr_rw_ceduc', `corr_fsr_ceduc', `corr_x14k_ceduc', `corr_x24k_ceduc' \
>         `corrpval_ips_ceduc', `corrpval_rw_ceduc', `corrpval_fsr_ceduc', `corrpval_x14k_ceduc', `corrpval_x24k_ceduc' 
> )
> ;

. #delimit cr
delimiter now cr
. matrix colnames corr_table2_pval = "IPS/IDA" "RW/CUD" "FSR/FSR" "14k/IMC" "24k/CCD" 

. matrix rownames corr_table2_pval = "interest" "(pval)" "participation" "(pval)" "education" "(pval)"

. matlist corr_table2_pval

             |   IPS/IDA     RW/CUD    FSR/FSR    14k/IMC    24k/CCD 
-------------+-------------------------------------------------------
    interest |   .115366    .277875   .2706139   .4122064   .3794851 
      (pval) |  .0750575   .0000207   .0000138   4.70e-11   2.14e-09 
participat~n |  .1377286   .1678915   .2759621   .2976265   .3563744 
      (pval) |  .0333187   .0111099   9.14e-06   3.42e-06   2.20e-08 
   education |   .077356   .1670633   .2295682   .1801993   .3018378 
      (pval) |  .2334923     .01152   .0002445    .005599   2.70e-06 

. 
. // Output
. preserve

. drop _all

. svmat2 corr_table2, rnames(type) // Adding to dta temporarily
number of observations will be reset to 3
Press any key to continue, or Break to abort
obs was 0, now 3

. order type

. foreach var of varlist corr_table21 corr_table22 corr_table23 corr_table24 corr_table25 {
  2.         replace `var' = round(`var', 0.001)
  3. }
(3 real changes made)
(3 real changes made)
(3 real changes made)
(3 real changes made)
(3 real changes made)

. list

     +-------------------------------------------------------------------------------+
     |                   type   corr_~21   corr_~22   corr_~23   corr_~24   corr_~25 |
     |-------------------------------------------------------------------------------|
  1. |      Politicalinterest       .115       .278       .271       .412       .379 |
  2. | Politicalparticipation       .138       .168       .276       .298       .356 |
  3. |              Education       .077       .167        .23        .18       .302 |
     +-------------------------------------------------------------------------------+

. texsave using ../../tabs/correlation-validity-table.tex, dataonly replace 

. restore

. 
. // =================================================================================
. // =================================================================================
. // Inter-item correlation, by group
. // =================================================================================
. local CRONBACH_ALPHA_OPTS asis item std

. 
. // Inter-item correlation for correct responses as the items
. global correct_items_ips  cbirth_ips  creligion_ips  cillegal_ips  cdeath_ips  cincrease_ips  cscience_ips  cfraud_ips
>   cmmr_ips  cdeficit_ips

. global correct_items_rw   cbirth_rw   creligion_rw   cillegal_rw   cdeath_rw   cincrease_rw   cscience_rw   cfraud_rw 
>   cmmr_rw   cdeficit_rw

. global correct_items_fsr  cbirth_fsr  creligion_fsr  cillegal_fsr  cdeath_fsr  cincrease_fsr  cscience_fsr  cfraud_fsr
>   cmmr_fsr  cdeficit_fsr

. global correct_items_x14k cbirth_x14k creligion_x14k cillegal_x14k cdeath_x14k cincrease_x14k cscience_x14k cfraud_x14
> k cmmr_x14k cdeficit_x14k

. global correct_items_x24k cbirth_x24k creligion_x24k cillegal_x24k cdeath_x24k cincrease_x24k cscience_x24k cfraud_x24
> k cmmr_x24k cdeficit_x24k

. 
. 
. alpha $correct_items_ips, `CRONBACH_ALPHA_OPTS'

Test scale = mean(standardized items)

                                                            average
                             item-test     item-rest       interitem
Item         |  Obs  Sign   correlation   correlation     correlation     alpha
-------------+-----------------------------------------------------------------
cbirth_ips   |  239    +       0.6634        0.5300          0.2199      0.6928
creligion_~s |  239    +       0.6455        0.5074          0.2232      0.6968
cillegal_ips |  239    +       0.6769        0.5471          0.2174      0.6897
cdeath_ips   |  239    +       0.5240        0.3595          0.2453      0.7223
cincrease_~s |  239    +       0.6388        0.4991          0.2244      0.6983
cscience_ips |  239    +       0.5446        0.3840          0.2416      0.7182
cfraud_ips   |  239    +       0.6412        0.5020          0.2239      0.6978
cmmr_ips     |  239    +       0.5251        0.3609          0.2451      0.7220
cdeficit_ips |  239    +       0.2485        0.0543          0.2956      0.7705
-------------+-----------------------------------------------------------------
Test scale   |                                               0.2374      0.7369
-------------------------------------------------------------------------------

. alpha $correct_items_rw, `CRONBACH_ALPHA_OPTS'

Test scale = mean(standardized items)

                                                            average
                             item-test     item-rest       interitem
Item         |  Obs  Sign   correlation   correlation     correlation     alpha
-------------+-----------------------------------------------------------------
cbirth_rw    |  228    +       0.6128        0.4456          0.1461      0.5778
creligion_rw |  228    +       0.6454        0.4870          0.1408      0.5672
cillegal_rw  |  228    +       0.5568        0.3763          0.1552      0.5950
cdeath_rw    |  228    +       0.5338        0.3484          0.1589      0.6018
cincrease_rw |  228    +       0.5276        0.3410          0.1599      0.6036
cscience_rw  |  228    +       0.5516        0.3700          0.1560      0.5966
cfraud_rw    |  228    +       0.6142        0.4474          0.1458      0.5773
cmmr_rw      |  228    +       0.4319        0.2293          0.1755      0.6300
cdeficit_rw  |  228    +       0.0827       -0.1360          0.2323      0.7077
-------------+-----------------------------------------------------------------
Test scale   |                                               0.1634      0.6374
-------------------------------------------------------------------------------

. alpha $correct_items_fsr, `CRONBACH_ALPHA_OPTS'

Test scale = mean(standardized items)

                                                            average
                             item-test     item-rest       interitem
Item         |  Obs  Sign   correlation   correlation     correlation     alpha
-------------+-----------------------------------------------------------------
cbirth_fsr   |  251    +       0.6811        0.5548          0.2288      0.7035
creligion_~r |  251    +       0.6544        0.5210          0.2337      0.7093
cillegal_fsr |  251    +       0.5503        0.3936          0.2530      0.7304
cdeath_fsr   |  251    +       0.6197        0.4777          0.2401      0.7166
cincrease_~r |  251    +       0.6223        0.4810          0.2396      0.7160
cscience_fsr |  251    +       0.6053        0.4600          0.2428      0.7195
cfraud_fsr   |  251    +       0.6233        0.4822          0.2395      0.7158
cmmr_fsr     |  251    +       0.5315        0.3711          0.2565      0.7340
cdeficit_fsr |  251    +       0.2959        0.1072          0.3001      0.7743
-------------+-----------------------------------------------------------------
Test scale   |                                               0.2482      0.7482
-------------------------------------------------------------------------------

. alpha $correct_items_x14k, `CRONBACH_ALPHA_OPTS'

Test scale = mean(standardized items)

                                                            average
                             item-test     item-rest       interitem
Item         |  Obs  Sign   correlation   correlation     correlation     alpha
-------------+-----------------------------------------------------------------
cbirth_x14k  |  235    +       0.5773        0.4045          0.1616      0.6067
creligio~14k |  235    +       0.6091        0.4439          0.1564      0.5973
cillegal~14k |  235    +       0.5253        0.3414          0.1702      0.6214
cdeath_x14k  |  235    +       0.6211        0.4590          0.1544      0.5936
cincreas~14k |  235    +       0.5209        0.3361          0.1710      0.6226
cscience~14k |  235    +       0.6103        0.4454          0.1562      0.5969
cfraud_x14k  |  235    +       0.5152        0.3294          0.1719      0.6242
cmmr_x14k    |  235    +       0.5498        0.3709          0.1662      0.6146
cdeficit~14k |  235    +       0.0963       -0.1196          0.2411      0.7176
-------------+-----------------------------------------------------------------
Test scale   |                                               0.1721      0.6517
-------------------------------------------------------------------------------

. alpha $correct_items_x24k, `CRONBACH_ALPHA_OPTS'

Test scale = mean(standardized items)

                                                            average
                             item-test     item-rest       interitem
Item         |  Obs  Sign   correlation   correlation     correlation     alpha
-------------+-----------------------------------------------------------------
cbirth_x24k  |  233    +       0.6772        0.5253          0.3179      0.7885
creligio~24k |  226    +       0.6741        0.5198          0.3149      0.7862
cillegal~24k |  149    +       0.6411        0.5085          0.3219      0.7915
cdeath_x24k  |  145    +       0.6459        0.5064          0.3228      0.7923
cincreas~24k |  239    +       0.6729        0.5155          0.3164      0.7874
cscience~24k |  244    +       0.7237        0.5910          0.3059      0.7791
cfraud_x24k  |  239    +       0.7071        0.5635          0.3083      0.7810
cmmr_x24k    |  225    +       0.6884        0.5452          0.3123      0.7842
cdeficit~24k |  176    +       0.2534        0.0449          0.3984      0.8412
-------------+-----------------------------------------------------------------
Test scale   |                                               0.3248      0.8124
-------------------------------------------------------------------------------

. 
end of do-file

. 
. // *************************************************************
. // Supplementary Material
. // *************************************************************
. * SI 1: Balance Tests
. * Figures SI 1.1 to 1.4
. * Estimates for Balance of conditions in MTurk 1
. do ./mturk/balance-tests.do

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. center age interest_1 vote_1 pid_strength_1, standardize inplace
(modified variables: age interest_1 vote_1 pid_strength_1)

. qui tabulate educ, gen(d_educ)

. local listofxvar female age hisla d_educ2 d_educ5 d_educ1 d_educ4 asian black white interest_1 vote_1 pid_strength_1

. 
. local conditions RW FSR 14k 24k

. foreach condition in `conditions' {
  2.         preserve
  3.         * Retain only IPS (as base condition) and one of the other four (conditions)
.         qui drop if (question_type!="`condition'") & (question_type!="IPS")
  4.         gen tarm = (question_type=="`condition'")       
  5. 
.         * Prep filepath to save to
.         local filepath "../../data/turk/storespecs-baltest-`condition'-ips"
  6.         cap erase `filepath'.dta
  7. 
.         * Do balance test for each xvar and save to filepath
.         eststo clear 
  8.         local i = 1
  9.         foreach xvar of varlist `listofxvar' {  
 10.                 _dots `i++' 0
 11.                 qui reg tarm `xvar', vce(hc3) 
 12.                 qui storespecs `xvar', spec(`xvar') file(`filepath')
 13.         }
 14.         restore // to full data before dropping three conditions
 15. }
....................................................
. 
. 
end of do-file

. 
. * SI 2: Additional Results for Confidence Coding (Mturk 1)
. * CCD vs. other conditions
. * Tables SI 2.1 to 2.5
. do ./mturk/confidence-scoring-reg-tables.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                     1207   ->   10863
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(3708 observations deleted)

. 
. gen ccd = (survey==2)  /* 2.survey = 24k */

. label var ccd "=1 if 24k condition (confidence scoring condition)"

. /*
> ================================================
> * Confidence coding vs all four other conditions
> ================================================
> */ 
. eststo clear

. * Regressions for each of nine survey questions
. foreach item_type in $items {
  2.         eststo: reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  3.                 estadd local itemFE "\multicolumn{1}{c}{No}"
  4.                 estadd local items 1
  5.                 estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"
  6.                 local nobs: display %9.0fc `e(N)'
  7.                 estadd local nobs "\multicolumn{1}{c}{`nobs'}"
  8. }

Linear regression                                      Number of obs =     784
                                                       F(  3,   783) =   21.71
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1272
                                                       Root MSE      =  .28969

                                   (Std. Err. adjusted for 784 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2460084     .03269     7.53   0.000      .181838    .3101788
       1.ccd |   -.009683    .017319    -0.56   0.576    -.0436802    .0243143
             |
     rep#ccd |
        1 1  |  -.0718704   .0728522    -0.99   0.324    -.2148792    .0711383
             |
       _cons |    .035545   .0090362     3.93   0.000      .017807     .053283
------------------------------------------------------------------------------
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{784}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      784}"

Linear regression                                      Number of obs =     774
                                                       F(  3,   773) =   52.36
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1853
                                                       Root MSE      =  .36038

                                   (Std. Err. adjusted for 774 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3667234   .0380574     9.64   0.000     .2920153    .4414315
       1.ccd |  -.0906561   .0199361    -4.55   0.000    -.1297915   -.0515207
             |
     rep#ccd |
        1 1  |  -.1958829   .0760386    -2.58   0.010    -.3451494   -.0466163
             |
       _cons |   .1090047     .01521     7.17   0.000     .0791469    .1388625
------------------------------------------------------------------------------
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{774}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      774}"

Linear regression                                      Number of obs =     728
                                                       F(  2,   727) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.1714
                                                       Root MSE      =  .39452

                                   (Std. Err. adjusted for 728 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3631344   .0392365     9.26   0.000      .286104    .4401648
       1.ccd |  -.1611374   .0179467    -8.98   0.000    -.1963709    -.125904
             |
     rep#ccd |
        1 1  |  -.2160756   .0724505    -2.98   0.003    -.3583128   -.0738384
             |
       _cons |   .1611374   .0179467     8.98   0.000      .125904    .1963709
------------------------------------------------------------------------------
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{728}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      728}"

Linear regression                                      Number of obs =     729
                                                       F(  3,   728) =   12.37
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0636
                                                       Root MSE      =  .38734

                                   (Std. Err. adjusted for 729 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2217825   .0374971     5.91   0.000     .1481673    .2953978
       1.ccd |  -.0106802   .0430131    -0.25   0.804    -.0951247    .0737643
             |
     rep#ccd |
        1 1  |  -.2152098   .0827453    -2.60   0.009    -.3776576   -.0527619
             |
       _cons |   .1374408    .016807     8.18   0.000     .1044447    .1704368
------------------------------------------------------------------------------
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{729}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      729}"

Linear regression                                      Number of obs =     784
                                                       F(  3,   783) =   92.67
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.3009
                                                       Root MSE      =  .34396

                                   (Std. Err. adjusted for 784 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4948465   .0371094    13.33   0.000     .4220008    .5676923
       1.ccd |  -.0791307   .0162272    -4.88   0.000    -.1109846   -.0472768
             |
     rep#ccd |
        1 1  |  -.2469833   .0797734    -3.10   0.002    -.4035784   -.0903882
             |
       _cons |   .0876777    .013803     6.35   0.000     .0605825     .114773
------------------------------------------------------------------------------
(est5 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{784}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      784}"

Linear regression                                      Number of obs =     787
                                                       F(  3,   786) =   21.58
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1112
                                                       Root MSE      =  .30793

                                   (Std. Err. adjusted for 787 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2322505   .0343358     6.76   0.000     .1648499    .2996511
       1.ccd |  -.0424046    .019451    -2.18   0.030    -.0805867   -.0042225
             |
     rep#ccd |
        1 1  |  -.2363441   .0434762    -5.44   0.000    -.3216872   -.1510009
             |
       _cons |   .0687204   .0123462     5.57   0.000      .044485    .0929558
------------------------------------------------------------------------------
(est6 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{787}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      787}"

Linear regression                                      Number of obs =     785
                                                       F(  3,   784) =   51.29
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1901
                                                       Root MSE      =  .37476

                                   (Std. Err. adjusted for 785 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3890857   .0385738    10.09   0.000     .3133657    .4648058
       1.ccd |  -.0946175   .0240631    -3.93   0.000    -.1418531   -.0473818
             |
     rep#ccd |
        1 1  |  -.2470222   .0711472    -3.47   0.001    -.3866837   -.1073607
             |
       _cons |   .1303318   .0164307     7.93   0.000     .0980785     .162585
------------------------------------------------------------------------------
(est7 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{785}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      785}"

Linear regression                                      Number of obs =     775
                                                       F(  3,   774) =   13.80
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0379
                                                       Root MSE      =  .27637

                                   (Std. Err. adjusted for 775 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .0988129   .0290773     3.40   0.001     .0417332    .1558925
       1.ccd |  -.0615662   .0157353    -3.91   0.000    -.0924552   -.0306772
             |
     rep#ccd |
        1 1  |  -.0845272   .0386272    -2.19   0.029    -.1603536   -.0087007
             |
       _cons |     .07109   .0125418     5.67   0.000     .0464701      .09571
------------------------------------------------------------------------------
(est8 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{775}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      775}"

Linear regression                                      Number of obs =     747
                                                       F(  3,   746) =    6.90
                                                       Prob > F      =  0.0001
                                                       R-squared     =  0.0220
                                                       Root MSE      =   .3553

                                   (Std. Err. adjusted for 747 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1166429   .0268814     4.34   0.000     .0638708     .169415
       1.ccd |   .0443128   .0444445     1.00   0.319    -.0429383    .1315639
             |
     rep#ccd |
        1 1  |   -.043566   .0644624    -0.68   0.499    -.1701153    .0829834
             |
       _cons |   .8056872   .0193127    41.72   0.000     .7677734     .843601
------------------------------------------------------------------------------
(est9 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{747}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      747}"

. * Regression for the pooled survey questions
. eststo: reghdfe item i.rep##i.ccd, absorb(item_type) vce(cluster id)
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      6,893
Absorbing 1 HDFE group                            F(   3,    793) =     139.71
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3427
                                                  Adj R-squared   =     0.3416
                                                  Within R-sq.    =     0.1209
Number of clusters (id)      =        794         Root MSE        =     0.3498

                                   (Std. Err. adjusted for 794 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2810319   .0169727    16.56   0.000     .2477152    .3143486
       1.ccd |  -.0580791   .0096445    -6.02   0.000    -.0770108   -.0391475
             |
     rep#ccd |
        1 1  |  -.1709851   .0337784    -5.06   0.000    -.2372907   -.1046795
             |
       _cons |   .1760361   .0072941    24.13   0.000     .1617181    .1903541
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est10 stored)

.         estadd local itemFE "\multicolumn{1}{c}{Yes}"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

.         estadd local items 9

added macro:
              e(items) : "9"

.         estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{794}"

.         local nobs: display %9.0fc `e(N)'

.         estadd local nobs "\multicolumn{1}{c}{`nobs'}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    6,893}"

. 
. * Store LaTeX fragment
. #delimit;
delimiter now ;
. esttab using $tabsavedir/confidence-scoring-study1-fragment.tex, 
>         keep(1.rep 1.ccd 1.rep#1.ccd _cons)
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(15)
>         modelwidth(6)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle        
>         coeflabel(
>                 1.rep "Congenial"
>                 1.ccd "Relative scoring (RL)"
>                 1.rep#1.ccd "Congenial $\times$ RL"
>                 _cons "Constant"
>                 )       
>         scalar(
>                 "r2 R$^2$" 
>                 "itemFE Survey item FE"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 )       
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/confidence-scoring-study1-fragment.tex)

. #delimit cr     
delimiter now cr
. 
. 
. /*
> ========================================================
> * Confidence coding vs each of the four other conditions
> ========================================================
> */
. foreach ix_survey in 1 3 4 5 {
  2.         * Name the subgroups for file naming later
.         if `ix_survey'==1 {
  3.                 local subname = "imc-14k"
  4.         }
  5.         else if  `ix_survey'==3 {
  6.                 local subname = "fsr-fsr"
  7.         }
  8.         else if  `ix_survey'==4 {
  9.                 local subname = "ida-ips"
 10.         }       
 11.         else if  `ix_survey'==5 {
 12.                 local subname = "cud-rw"
 13.         }       
 14.         preserve
 15.         drop if (survey!=2) & (survey!=`ix_survey')
 16.         
.         * Regressions for each of nine survey questions
.         eststo clear
 17.         foreach item_type in $items {
 18.                 eststo: reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
 19.                         estadd local itemFE "\multicolumn{1}{c}{No}"
 20.                         estadd local items 1
 21.                         estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"
 22.                         local nobs: display %9.0fc `e(N)'
 23.                         estadd local nobs "\multicolumn{1}{c}{`nobs'}"
 24.         }
 25.         * Regression for the pooled survey questions
.         eststo: reghdfe item i.rep##i.ccd, absorb(item_type) vce(cluster id)
 26.                 estadd local itemFE "\multicolumn{1}{c}{Yes}"
 27.                 estadd local items 9
 28.                 estadd local Nrespondents = "\multicolumn{1}{c}{`e(N_clust)'}"
 29.                 local nobs: display %9.0fc `e(N)'
 30.                 estadd local nobs "\multicolumn{1}{c}{`nobs'}"
 31.         restore
 32. 
.         * Store LaTeX fragment
.         #delimit;
delimiter now ;
.         esttab using $tabsavedir/confidence-scoring-study1-ccd-`subname'-fragment.tex, 
>                 keep(1.rep 1.ccd 1.rep#1.ccd _cons)
>                 cell(
>               b (fmt(%9.3fc) star) 
>               se(par fmt(%9.3fc))
>               p (par([ ]) fmt(%9.3fc))
>             )  
>             collabels(, none)
>                 varwidth(15)
>                 modelwidth(6)   
>                 star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>                 obslast
>                 label
>                 nobase  
>                 noobs
>                 nomtitle        
>                 coeflabel(
>                         1.rep "Congenial"
>                         1.ccd "Relative scoring (RL)"
>                         1.rep#1.ccd "Congenial $\times$ RL"
>                         _cons "Constant"
>                         )       
>                 scalar(
>                         "r2 R$^2$" 
>                         "itemFE Survey item FE"
>                         "items Items"
>                         "Nrespondents Respondents"
>                         "nobs Respondent-items"
>                         )       
>                 alignment(D{.}{.}{-1})
>                 substitute(\_ _)
>                 fragment booktabs replace        
>                 ;
 33.         #delimit cr     
delimiter now cr
. }
(4221 observations deleted)

Linear regression                                      Number of obs =     315
                                                       F(  3,   314) =    4.02
                                                       Prob > F      =  0.0079
                                                       R-squared     =  0.0510
                                                       Root MSE      =  .26501

                                   (Std. Err. adjusted for 315 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .0864362   .0571093     1.51   0.131    -.0259291    .1988014
       1.ccd |  -.0366379   .0273836    -1.34   0.182    -.0905165    .0172407
             |
     rep#ccd |
        1 1  |   .0877018   .0867923     1.01   0.313    -.0830661    .2584697
             |
       _cons |      .0625   .0230193     2.72   0.007     .0172085    .1077915
------------------------------------------------------------------------------
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{315}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      315}"

Linear regression                                      Number of obs =     305
                                                       F(  3,   304) =   10.29
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0843
                                                       Root MSE      =  .31811

                                   (Std. Err. adjusted for 305 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1639438   .0745548     2.20   0.029      .017235    .3106526
       1.ccd |  -.1155799   .0348833    -3.31   0.001    -.1842233   -.0469366
             |
     rep#ccd |
        1 1  |   .0068968   .0996334     0.07   0.945    -.1891616    .2029552
             |
       _cons |   .1339286   .0323945     4.13   0.000     .0701828    .1976744
------------------------------------------------------------------------------
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{305}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      305}"

Linear regression                                      Number of obs =     259
                                                       F(  2,   258) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.1367
                                                       Root MSE      =  .35164

                                   (Std. Err. adjusted for 259 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2558891    .080995     3.16   0.002     .0963936    .4153845
       1.ccd |  -.1696429   .0357414    -4.75   0.000    -.2400248   -.0992609
             |
     rep#ccd |
        1 1  |  -.1088302   .1015246    -1.07   0.285    -.3087527    .0910922
             |
       _cons |   .1696429   .0357414     4.75   0.000     .0992609    .2400248
------------------------------------------------------------------------------
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{259}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      259}"

Linear regression                                      Number of obs =     260
                                                       F(  3,   259) =    3.26
                                                       Prob > F      =  0.0222
                                                       R-squared     =  0.0555
                                                       Root MSE      =  .34599

                                   (Std. Err. adjusted for 260 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2298632   .0737079     3.12   0.002     .0847202    .3750062
       1.ccd |   .0374748   .0481743     0.78   0.437    -.0573884    .1323381
             |
     rep#ccd |
        1 1  |  -.2232905   .1045385    -2.14   0.034     -.429144   -.0174369
             |
       _cons |   .0892857   .0271544     3.29   0.001     .0358143    .1427572
------------------------------------------------------------------------------
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{260}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      260}"

Linear regression                                      Number of obs =     315
                                                       F(  3,   314) =   24.82
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.3135
                                                       Root MSE      =  .29179

                                   (Std. Err. adjusted for 315 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .5119681   .0761442     6.72   0.000     .3621507    .6617855
       1.ccd |   -.053953   .0245611    -2.20   0.029    -.1022781   -.0056279
             |
     rep#ccd |
        1 1  |  -.2641048   .1040337    -2.54   0.012     -.468796   -.0594137
             |
       _cons |      .0625   .0230193     2.72   0.007     .0172085    .1077915
------------------------------------------------------------------------------
(est5 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{315}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      315}"

Linear regression                                      Number of obs =     318
                                                       F(  3,   317) =    7.10
                                                       Prob > F      =  0.0001
                                                       R-squared     =  0.1190
                                                       Root MSE      =  .27193

                                   (Std. Err. adjusted for 318 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2298632   .0736031     3.12   0.002      .085051    .3746755
       1.ccd |  -.0629699   .0310305    -2.03   0.043    -.1240217   -.0019181
             |
     rep#ccd |
        1 1  |  -.2339568   .0783201    -2.99   0.003    -.3880498   -.0798638
             |
       _cons |   .0892857   .0271158     3.29   0.001     .0359361    .1426353
------------------------------------------------------------------------------
(est6 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{318}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      318}"

Linear regression                                      Number of obs =     316
                                                       F(  3,   315) =    5.56
                                                       Prob > F      =  0.0010
                                                       R-squared     =  0.0589
                                                       Root MSE      =   .3064

                                   (Std. Err. adjusted for 316 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1571049   .0699867     2.24   0.025     .0194044    .2948053
       1.ccd |     -.0625    .033352    -1.87   0.062    -.1281209    .0031209
             |
     rep#ccd |
        1 1  |  -.0150414   .0921927    -0.16   0.871    -.1964327      .16635
             |
       _cons |   .0982143   .0283006     3.47   0.001     .0425321    .1538965
------------------------------------------------------------------------------
(est7 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{316}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      316}"

Linear regression                                      Number of obs =     306
                                                       F(  3,   305) =    3.25
                                                       Prob > F      =  0.0220
                                                       R-squared     =  0.0464
                                                       Root MSE      =  .21223

                                   (Std. Err. adjusted for 306 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .0953647   .0564916     1.69   0.092     -.015798    .2065274
       1.ccd |  -.0440476    .023446    -1.88   0.061    -.0901841    .0020889
             |
     rep#ccd |
        1 1  |   -.081079   .0619924    -1.31   0.192     -.203066     .040908
             |
       _cons |   .0535714    .021417     2.50   0.013     .0114276    .0957152
------------------------------------------------------------------------------
(est8 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{306}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      306}"

Linear regression                                      Number of obs =     278
                                                       F(  3,   277) =    6.89
                                                       Prob > F      =  0.0002
                                                       R-squared     =  0.0666
                                                       Root MSE      =  .37947

                                   (Std. Err. adjusted for 278 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2397416   .0566141     4.23   0.000     .1282932    .3511901
       1.ccd |   .1535714   .0594324     2.58   0.010     .0365748     .270568
             |
     rep#ccd |
        1 1  |  -.1666647   .0816665    -2.04   0.042    -.3274305    -.005899
             |
       _cons |   .6964286    .043763    15.91   0.000     .6102783    .7825788
------------------------------------------------------------------------------
(est9 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{278}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      278}"
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      2,672
Absorbing 1 HDFE group                            F(   3,    324) =      28.72
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3632
                                                  Adj R-squared   =     0.3606
                                                  Within R-sq.    =     0.0757
Number of clusters (id)      =        325         Root MSE        =     0.3107

                                   (Std. Err. adjusted for 325 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2189083   .0329029     6.65   0.000     .1541779    .2836387
       1.ccd |  -.0415918   .0154584    -2.69   0.008    -.0720033   -.0111804
             |
     rep#ccd |
        1 1  |  -.1086911    .044079    -2.47   0.014    -.1954083   -.0219739
             |
       _cons |   .1554383   .0140049    11.10   0.000     .1278862    .1829903
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est10 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{325}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,672}"
(output written to D:/partisan-gaps/tabs/confidence-scoring-study1-ccd-imc-14k-fragment.tex)
(4086 observations deleted)

Linear regression                                      Number of obs =     330
                                                       F(  3,   329) =    4.45
                                                       Prob > F      =  0.0044
                                                       R-squared     =  0.0680
                                                       Root MSE      =  .25223

                                   (Std. Err. adjusted for 330 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |    .126816   .0521456     2.43   0.016     .0242352    .2293968
       1.ccd |  -.0080362   .0223783    -0.36   0.720    -.0520589    .0359864
             |
     rep#ccd |
        1 1  |    .047322   .0835948     0.57   0.572    -.1171258    .2117697
             |
       _cons |   .0338983   .0167613     2.02   0.044     .0009255    .0668711
------------------------------------------------------------------------------
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{330}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      330}"

Linear regression                                      Number of obs =     320
                                                       F(  3,   319) =   13.75
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1463
                                                       Root MSE      =  .31711

                                   (Std. Err. adjusted for 320 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2911622   .0713946     4.08   0.000     .1506985     .431626
       1.ccd |  -.0833463   .0308434    -2.70   0.007    -.1440285   -.0226641
             |
     rep#ccd |
        1 1  |  -.1203217   .0972772    -1.24   0.217    -.3117076    .0710643
             |
       _cons |   .1016949   .0279996     3.63   0.000     .0466077    .1567821
------------------------------------------------------------------------------
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{320}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      320}"

Linear regression                                      Number of obs =     274
                                                       F(  2,   273) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.1174
                                                       Root MSE      =  .31971

                                   (Std. Err. adjusted for 274 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2375908   .0696276     3.41   0.001     .1005155    .3746661
       1.ccd |  -.1016949   .0280294    -3.63   0.000    -.1568762   -.0465137
             |
     rep#ccd |
        1 1  |   -.090532   .0926922    -0.98   0.330    -.2730144    .0919505
             |
       _cons |   .1016949   .0280294     3.63   0.000     .0465137    .1568762
------------------------------------------------------------------------------
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{274}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      274}"

Linear regression                                      Number of obs =     275
                                                       F(  3,   274) =    2.30
                                                       Prob > F      =  0.0778
                                                       R-squared     =  0.0326
                                                       Root MSE      =   .3381

                                   (Std. Err. adjusted for 275 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1652542   .0637547     2.59   0.010      .039743    .2907655
       1.ccd |   .0420148   .0474245     0.89   0.376    -.0513479    .1353775
             |
     rep#ccd |
        1 1  |  -.1586815   .0977518    -1.62   0.106    -.3511216    .0337586
             |
       _cons |   .0847458   .0258268     3.28   0.001     .0339016    .1355899
------------------------------------------------------------------------------
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{275}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      275}"

Linear regression                                      Number of obs =     330
                                                       F(  3,   329) =   23.90
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.2020
                                                       Root MSE      =  .33001

                                   (Std. Err. adjusted for 330 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3550242   .0739268     4.80   0.000     .2095954     .500453
       1.ccd |  -.1185716   .0320186    -3.70   0.000    -.1815586   -.0555847
             |
     rep#ccd |
        1 1  |   -.107161   .1024075    -1.05   0.296     -.308617    .0942951
             |
       _cons |   .1271186   .0308524     4.12   0.000     .0664257    .1878116
------------------------------------------------------------------------------
(est5 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{330}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      330}"

Linear regression                                      Number of obs =     333
                                                       F(  3,   332) =    4.57
                                                       Prob > F      =  0.0038
                                                       R-squared     =  0.0810
                                                       Root MSE      =  .24941

                                   (Std. Err. adjusted for 333 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1728208   .0608312     2.84   0.005     .0531576     .292484
       1.ccd |  -.0330062   .0265736    -1.24   0.215      -.08528    .0192675
             |
     rep#ccd |
        1 1  |  -.1769144    .066458    -2.66   0.008    -.3076462   -.0461826
             |
       _cons |    .059322   .0218782     2.71   0.007     .0162847    .1023594
------------------------------------------------------------------------------
(est6 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{333}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      333}"

Linear regression                                      Number of obs =     331
                                                       F(  3,   330) =   10.52
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.0935
                                                       Root MSE      =  .34019

                                   (Std. Err. adjusted for 331 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2130751   .0721651     2.95   0.003     .0711133    .3550368
       1.ccd |  -.1083535   .0370007    -2.93   0.004    -.1811405   -.0355665
             |
     rep#ccd |
        1 1  |  -.0710116    .093846    -0.76   0.450    -.2556235    .1136003
             |
       _cons |   .1440678   .0325239     4.43   0.000     .0800875    .2080481
------------------------------------------------------------------------------
(est7 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{331}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      331}"

Linear regression                                      Number of obs =     321
                                                       F(  3,   320) =    4.17
                                                       Prob > F      =  0.0064
                                                       R-squared     =  0.0521
                                                       Root MSE      =   .2254

                                   (Std. Err. adjusted for 321 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1013923   .0540179     1.88   0.061    -.0048828    .2076673
       1.ccd |  -.0497982   .0238715    -2.09   0.038     -.096763   -.0028334
             |
     rep#ccd |
        1 1  |  -.0871065   .0597435    -1.46   0.146    -.2046461    .0304331
             |
       _cons |    .059322   .0218832     2.71   0.007      .016269    .1023751
------------------------------------------------------------------------------
(est8 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{321}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      321}"

Linear regression                                      Number of obs =     293
                                                       F(  3,   292) =    1.82
                                                       Prob > F      =  0.1428
                                                       R-squared     =  0.0200
                                                       Root MSE      =   .2883

                                   (Std. Err. adjusted for 293 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |  -.0562954   .0463312    -1.22   0.225    -.1474808      .03489
       1.ccd |  -.0991525   .0450607    -2.20   0.029    -.1878375   -.0104675
             |
     rep#ccd |
        1 1  |   .1293723   .0748883     1.73   0.085    -.0180168    .2767615
             |
       _cons |   .9491525   .0203632    46.61   0.000     .9090752    .9892298
------------------------------------------------------------------------------
(est9 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{293}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      293}"
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      2,807
Absorbing 1 HDFE group                            F(   3,    339) =      34.24
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.4276
                                                  Adj R-squared   =     0.4253
                                                  Within R-sq.    =     0.0720
Number of clusters (id)      =        340         Root MSE        =     0.3009

                                   (Std. Err. adjusted for 340 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1785378   .0293036     6.09   0.000     .1208979    .2361777
       1.ccd |  -.0649507   .0154655    -4.20   0.000    -.0953711   -.0345303
             |
     rep#ccd |
        1 1  |  -.0690187   .0414023    -1.67   0.096    -.1504564    .0124191
             |
       _cons |   .1789026   .0140438    12.74   0.000     .1512786    .2065266
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est10 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{340}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,807}"
(output written to D:/partisan-gaps/tabs/confidence-scoring-study1-ccd-fsr-fsr-fragment.tex)
(4356 observations deleted)

Linear regression                                      Number of obs =     300
                                                       F(  3,   299) =    9.77
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.1693
                                                       Root MSE      =  .28324

                                   (Std. Err. adjusted for 300 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3280851   .0707347     4.64   0.000     .1888842     .467286
       1.ccd |  -.0060528   .0235211    -0.26   0.797    -.0523408    .0402351
             |
     rep#ccd |
        1 1  |  -.1539472   .0963201    -1.60   0.111    -.3434984    .0356041
             |
       _cons |   .0319149   .0182517     1.75   0.081    -.0040033     .067833
------------------------------------------------------------------------------
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{300}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      300}"

Linear regression                                      Number of obs =     290
                                                       F(  3,   289) =   17.30
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.2355
                                                       Root MSE      =  .30985

                                   (Std. Err. adjusted for 290 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4148936   .0768755     5.40   0.000     .2635867    .5662005
       1.ccd |  -.0667578   .0317408    -2.10   0.036    -.1292301   -.0042854
             |
     rep#ccd |
        1 1  |  -.2440531   .1013965    -2.41   0.017    -.4436222   -.0444839
             |
       _cons |   .0851064   .0289813     2.94   0.004     .0280651    .1421476
------------------------------------------------------------------------------
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{290}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      290}"

Linear regression                                      Number of obs =     244
                                                       F(  2,   243) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.3160
                                                       Root MSE      =  .34618

                                   (Std. Err. adjusted for 244 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4897872    .078041     6.28   0.000      .336064    .6435104
       1.ccd |  -.1702128   .0390845    -4.35   0.000    -.2472005   -.0932251
             |
     rep#ccd |
        1 1  |  -.3427284   .0992022    -3.45   0.001    -.5381344   -.1473224
             |
       _cons |   .1702128   .0390845     4.35   0.000     .0932251    .2472005
------------------------------------------------------------------------------
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{244}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      244}"

Linear regression                                      Number of obs =     245
                                                       F(  3,   244) =    4.82
                                                       Prob > F      =  0.0028
                                                       R-squared     =  0.0823
                                                       Root MSE      =  .38337

                                   (Std. Err. adjusted for 245 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2710638   .0795216     3.41   0.001     .1144273    .4277003
       1.ccd |  -.0221756   .0543668    -0.41   0.684    -.1292638    .0849126
             |
     rep#ccd |
        1 1  |  -.2644911   .1087401    -2.43   0.016      -.47868   -.0503021
             |
       _cons |   .1489362   .0370247     4.02   0.000     .0760073     .221865
------------------------------------------------------------------------------
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{245}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      245}"

Linear regression                                      Number of obs =     300
                                                       F(  3,   299) =   30.32
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.3595
                                                       Root MSE      =  .29537

                                   (Std. Err. adjusted for 300 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .5561702   .0736204     7.55   0.000     .4112904      .70105
       1.ccd |  -.0552828   .0267898    -2.06   0.040    -.1080032   -.0025623
             |
     rep#ccd |
        1 1  |   -.308307   .1022167    -3.02   0.003    -.5094623   -.1071517
             |
       _cons |   .0638298   .0253828     2.51   0.012     .0138782    .1137814
------------------------------------------------------------------------------
(est5 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{300}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      300}"

Linear regression                                      Number of obs =     303
                                                       F(  3,   302) =    7.49
                                                       Prob > F      =  0.0001
                                                       R-squared     =  0.1261
                                                       Root MSE      =  .27685

                                   (Std. Err. adjusted for 303 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2242553   .0730998     3.07   0.002     .0804059    .3681048
       1.ccd |  -.0694289   .0340754    -2.04   0.042    -.1364842   -.0023736
             |
     rep#ccd |
        1 1  |  -.2283489   .0778503    -2.93   0.004    -.3815466   -.0751512
             |
       _cons |   .0957447   .0305509     3.13   0.002      .035625    .1558644
------------------------------------------------------------------------------
(est6 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{303}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      303}"

Linear regression                                      Number of obs =     301
                                                       F(  3,   300) =   55.32
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.4349
                                                       Root MSE      =  .30785

                                   (Std. Err. adjusted for 301 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .6829787   .0660085    10.35   0.000     .5530803    .8128771
       1.ccd |   -.081307   .0377579    -2.15   0.032    -.1556109    -.007003
             |
     rep#ccd |
        1 1  |  -.5409152   .0892233    -6.06   0.000     -.716498   -.3653325
             |
       _cons |   .1170213   .0333771     3.51   0.001     .0513384    .1827042
------------------------------------------------------------------------------
(est7 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{301}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      301}"

Linear regression                                      Number of obs =     291
                                                       F(  3,   290) =    4.41
                                                       Prob > F      =  0.0047
                                                       R-squared     =  0.0816
                                                       Root MSE      =  .22632

                                   (Std. Err. adjusted for 291 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .1468085   .0615454     2.39   0.018     .0256763    .2679408
       1.ccd |  -.0436677   .0251858    -1.73   0.084    -.0932379    .0059025
             |
     rep#ccd |
        1 1  |  -.1325228   .0666336    -1.99   0.048    -.2636695   -.0013761
             |
       _cons |   .0531915   .0233074     2.28   0.023     .0073184    .0990646
------------------------------------------------------------------------------
(est8 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{291}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      291}"

Linear regression                                      Number of obs =     263
                                                       F(  3,   262) =    1.08
                                                       Prob > F      =  0.3589
                                                       R-squared     =  0.0117
                                                       Root MSE      =  .30897

                                   (Std. Err. adjusted for 263 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |    .046383   .0466088     1.00   0.321    -.0453925    .1381584
       1.ccd |   -.043617   .0514327    -0.85   0.397     -.144891     .057657
             |
     rep#ccd |
        1 1  |   .0266939   .0750968     0.36   0.723    -.1211761    .1745639
             |
       _cons |    .893617   .0320461    27.89   0.000     .8305162    .9567178
------------------------------------------------------------------------------
(est9 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{263}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      263}"
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      2,537
Absorbing 1 HDFE group                            F(   3,    309) =      58.41
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.4363
                                                  Adj R-squared   =     0.4338
                                                  Within R-sq.    =     0.1786
Number of clusters (id)      =        310         Root MSE        =     0.3137

                                   (Std. Err. adjusted for 310 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3511584   .0350202    10.03   0.000     .2822501    .4200667
       1.ccd |  -.0625077   .0149322    -4.19   0.000    -.0918894   -.0331261
             |
     rep#ccd |
        1 1  |  -.2428636   .0456584    -5.32   0.000    -.3327044   -.1530229
             |
       _cons |   .1771933   .0135245    13.10   0.000     .1505815     .203805
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est10 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{310}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,537}"
(output written to D:/partisan-gaps/tabs/confidence-scoring-study1-ccd-ida-ips-fragment.tex)
(4293 observations deleted)

Linear regression                                      Number of obs =     307
                                                       F(  3,   306) =   16.10
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.2623
                                                       Root MSE      =  .27816

                                   (Std. Err. adjusted for 307 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4426261   .0695783     6.36   0.000     .3057137    .5795385
       1.ccd |    .015658   .0180131     0.87   0.385    -.0197872    .0511032
             |
     rep#ccd |
        1 1  |  -.2684882   .0954672    -2.81   0.005    -.4563435   -.0806328
             |
       _cons |   .0102041   .0102187     1.00   0.319    -.0099037    .0303118
------------------------------------------------------------------------------
(est1 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{307}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      307}"

Linear regression                                      Number of obs =     297
                                                       F(  3,   296) =   39.33
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.3796
                                                       Root MSE      =  .31229

                                   (Std. Err. adjusted for 297 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .5858683   .0711435     8.24   0.000     .4458571    .7258795
       1.ccd |  -.0938963   .0346147    -2.71   0.007    -.1620185   -.0257741
             |
     rep#ccd |
        1 1  |  -.4150277   .0971152    -4.27   0.000    -.6061514    -.223904
             |
       _cons |   .1122449   .0321042     3.50   0.001     .0490636    .1754262
------------------------------------------------------------------------------
(est2 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{297}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      297}"

Linear regression                                      Number of obs =     251
                                                       F(  2,   250) =       .
                                                       Prob > F      =       .
                                                       R-squared     =  0.3079
                                                       Root MSE      =  .36169

                                   (Std. Err. adjusted for 251 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4649596   .0769624     6.04   0.000     .3133823    .6165368
       1.ccd |  -.2142857   .0417834    -5.13   0.000    -.2965781   -.1319933
             |
     rep#ccd |
        1 1  |  -.3179007    .098347    -3.23   0.001    -.5115951   -.1242064
             |
       _cons |   .2142857   .0417834     5.13   0.000     .1319933    .2965781
------------------------------------------------------------------------------
(est3 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{251}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      251}"

Linear regression                                      Number of obs =     252
                                                       F(  3,   251) =    6.31
                                                       Prob > F      =  0.0004
                                                       R-squared     =  0.0790
                                                       Root MSE      =  .41436

                                   (Std. Err. adjusted for 252 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2079322   .0816566     2.55   0.011     .0471127    .3687517
       1.ccd |  -.1181374   .0591743    -2.00   0.047    -.2346788    -.001596
             |
     rep#ccd |
        1 1  |  -.2013595   .1102995    -1.83   0.069    -.4185899     .015871
             |
       _cons |    .244898   .0437882     5.59   0.000     .1586589     .331137
------------------------------------------------------------------------------
(est4 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{252}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      252}"

Linear regression                                      Number of obs =     307
                                                       F(  3,   306) =   37.90
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.3690
                                                       Root MSE      =  .30662

                                   (Std. Err. adjusted for 307 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .5685406   .0717623     7.92   0.000     .4273306    .7097507
       1.ccd |  -.0832897   .0305887    -2.72   0.007    -.1434805    -.023099
             |
     rep#ccd |
        1 1  |  -.3206774    .100879    -3.18   0.002    -.5191817   -.1221731
             |
       _cons |   .0918367   .0293647     3.13   0.002     .0340545     .149619
------------------------------------------------------------------------------
(est5 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{307}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      307}"

Linear regression                                      Number of obs =     310
                                                       F(  3,   309) =    7.46
                                                       Prob > F      =  0.0001
                                                       R-squared     =  0.1867
                                                       Root MSE      =  .24717

                                   (Std. Err. adjusted for 310 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3090104   .0677773     4.56   0.000      .175647    .4423738
       1.ccd |  -.0042965   .0231186    -0.19   0.853    -.0497862    .0411933
             |
     rep#ccd |
        1 1  |   -.313104   .0728741    -4.30   0.000    -.4564962   -.1697118
             |
       _cons |   .0306122   .0175147     1.75   0.081     -.003851    .0650755
------------------------------------------------------------------------------
(est6 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{310}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      310}"

Linear regression                                      Number of obs =     308
                                                       F(  3,   307) =   30.39
                                                       Prob > F      =  0.0000
                                                       R-squared     =  0.2874
                                                       Root MSE      =  .34273

                                   (Std. Err. adjusted for 308 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .4971121   .0754962     6.58   0.000     .3485565    .6456676
       1.ccd |   -.127551   .0415193    -3.07   0.002    -.2092495   -.0458526
             |
     rep#ccd |
        1 1  |  -.3550486   .0964481    -3.68   0.000    -.5448316   -.1652655
             |
       _cons |   .1632653   .0375808     4.34   0.000     .0893167    .2372139
------------------------------------------------------------------------------
(est7 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{308}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      308}"

Linear regression                                      Number of obs =     298
                                                       F(  3,   297) =    6.30
                                                       Prob > F      =  0.0004
                                                       R-squared     =  0.0592
                                                       Root MSE      =  .26062

                                   (Std. Err. adjusted for 298 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .0473623    .061705     0.77   0.443     -.074072    .1687967
       1.ccd |  -.1129252   .0346765    -3.26   0.001     -.181168   -.0446823
             |
     rep#ccd |
        1 1  |  -.0330766   .0667794    -0.50   0.621    -.1644974    .0983442
             |
       _cons |    .122449   .0333377     3.67   0.000      .056841     .188057
------------------------------------------------------------------------------
(est8 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{298}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      298}"

Linear regression                                      Number of obs =     270
                                                       F(  3,   269) =    6.86
                                                       Prob > F      =  0.0002
                                                       R-squared     =  0.0761
                                                       Root MSE      =  .37905

                                   (Std. Err. adjusted for 270 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .2510589   .0601168     4.18   0.000     .1326997    .3694182
       1.ccd |   .1765306   .0624133     2.83   0.005     .0536499    .2994113
             |
     rep#ccd |
        1 1  |   -.177982   .0841415    -2.12   0.035    -.3436416   -.0123224
             |
       _cons |   .6734694   .0477253    14.11   0.000     .5795067    .7674321
------------------------------------------------------------------------------
(est9 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{No}"

added macro:
              e(items) : "1"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{270}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{      270}"
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      2,600
Absorbing 1 HDFE group                            F(   3,    316) =     101.05
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3771
                                                  Adj R-squared   =     0.3745
                                                  Within R-sq.    =     0.1814
Number of clusters (id)      =        317         Root MSE        =     0.3335

                                   (Std. Err. adjusted for 317 clusters in id)
------------------------------------------------------------------------------
             |               Robust
        item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       1.rep |   .3749412   .0298373    12.57   0.000     .3162362    .4336461
       1.ccd |  -.0632818   .0175598    -3.60   0.000    -.0978307   -.0287329
             |
     rep#ccd |
        1 1  |  -.2643567   .0418157    -6.32   0.000    -.3466292   -.1820843
             |
       _cons |   .1776425   .0165357    10.74   0.000     .1451085    .2101766
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est10 stored)

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "\multicolumn{1}{c}{317}"

added macro:
               e(nobs) : "\multicolumn{1}{c}{    2,600}"
(output written to D:/partisan-gaps/tabs/confidence-scoring-study1-ccd-cud-rw-fragment.tex)

. 
end of do-file

. * Figures in SI 1.1
. do ./mturk/confidence-scoring-barplots.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                     1207   ->   10863
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(3708 observations deleted)

. 
. gen ccd = (survey==2)  /* 2.survey = 24k */

. 
. 
. /*==============================================
> * Confidence coding vs all four other conditions
> ==============================================*/ 
. foreach item_type in $items {
  2.         qui reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  3. 
.         mat coefmat = e(b)
  4.         mat list coefmat
  5.         local baseline = coefmat[1, 2] /* 1.congenial */
  6. 
.         preserve
  7.         regsave
  8.         drop if var=="_cons"
  9.         drop if var=="1.ccd"
 10.         drop if strpos(var, "0b")  // Drop base variables
 11. 
.         * Gen coef for plotting (add estimates back to baseline)
.         gen est = coef
 12.         label var est "Original reg estimate (before adding back to baseline)"
 13.         replace coef = `baseline' + coef if var!="1.rep"
 14. 
.         * Construct CI
.         gen uci = coef + 1.96 * stderr
 15.         gen lci = coef - 1.96 * stderr
 16.         // replace uci = 0 if var=="_cons"
.         // replace lci = 0 if var=="_cons"
. 
.         gen porder = _n
 17.         label define xlab 1 "MC" 2 "CCD"
 18.         label values porder xlab
 19.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         * Graph settings
.         set scheme s2mono
 20.         local YLAB_OPTS angle(horizontal) labsize(vlarge) nogrid
 21.         local YRANGE 0(0.1).5
 22.         local BASELINE_XLIM = _N+.5
 23.         local CI_WIDTH thick
 24.         local XLAB_SIZE vlarge
 25.         local BAR_OPTS           color(gs7) fcolor(none) lwidth(vthick)
 26.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         #delimit;
delimiter now ;
.                 twoway  
>                                 (bar coef porder if porder==1, `BAR_OPTS') 
>                                 (bar coef porder if porder==2, `BAR_OPTS'
>                                         xlabel(,val labsize(`XLAB_SIZE') )
>                                 ) 
>                                 (rcap uci lci porder, 
>                                         color(gs5)
>                                         msize(huge)  // size of rcap
>                                         lwidth(`CI_WIDTH') 
>                                         legend(off)
>                                         ylabel(`YRANGE', `YLAB_OPTS' ) 
>                                         xlabel(, notick)
>                                         yscale(r(-.05 .53))
>                                         xscale(noextend lcolor(none))
>                                         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>                                         bgcolor(white)
>                                         plotregion(margin(30 30 0 0))
>                                 )               
>                                 (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
>                                         xlabel(1 2)
>                                         recast(line) color(black) lpattern(dash)
>                                         name(`item_type')
>                                 )
>                         ;
 27.                 #delimit cr             
delimiter now cr
.                 graph export $figsavedir/confidence_score_`item_type'_study1.pdf, replace       
 28.         restore
 29. }

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .24600837           0  -.00968295           0           0           0  -.07187044   .03554502
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_birth_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .36672342           0  -.09065612           0           0           0  -.19588285   .10900474
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_religion_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0    .3631344           0  -.16113744           0           0           0  -.21607558   .16113744
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_illegal_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .22178254           0  -.01068019           0           0           0  -.21520977   .13744076
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_death_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .49484655           0  -.07913072           0           0           0   -.2469833   .08767773
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_increase_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .23225049           0  -.04240459           0           0           0  -.23634406   .06872038
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_science_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .38908572           0  -.09461747           0           0           0  -.24702223   .13033175
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_fraud_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .09881287           0  -.06156624           0           0           0  -.08452715   .07109005
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_mmr_study1.pdf written in PDF format)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .11664289           0    .0443128           0           0           0  -.04356597    .8056872
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_deficit_study1.pdf written in PDF format)

. 
. /*================================
> * Confidence coding vs IPS/IDA = 4
> ================================*/ 
. graph drop _all

. foreach item_type in $items {
  2.         preserve
  3.         drop if (survey!=2) & (survey!=4)
  4. 
.         qui reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  5. 
.         mat coefmat = e(b)
  6.         mat list coefmat
  7.         local baseline = coefmat[1, 2] /* 1.congenial */
  8. 
.         regsave
  9.         drop if var=="_cons"
 10.         drop if var=="1.ccd"
 11.         drop if strpos(var, "0b")  // Drop base variables
 12. 
.         * Gen coef for plotting (add estimates back to baseline)
.         gen est = coef
 13.         label var est "Original reg estimate (before adding back to baseline)"
 14.         replace coef = `baseline' + coef if var!="1.rep"
 15. 
.         * Construct CI
.         gen uci = coef + 1.96 * stderr
 16.         gen lci = coef - 1.96 * stderr
 17.         // replace uci = 0 if var=="_cons"
.         // replace lci = 0 if var=="_cons"
. 
.         gen porder = _n
 18.         label define xlab 1 "MC" 2 "CCD"
 19.         label values porder xlab
 20.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         * Graph settings
.         set scheme s2mono
 21.         local YLAB_OPTS angle(horizontal) labsize(vlarge) nogrid
 22.         local YRANGE 0(0.1).5
 23.         local BASELINE_XLIM = _N+.5
 24.         local CI_WIDTH thick
 25.         local XLAB_SIZE vlarge
 26.         local BAR_OPTS           color(gs7) fcolor(none) lwidth(vthick)
 27.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         #delimit;
delimiter now ;
.                 twoway  
>                                 (bar coef porder if porder==1, `BAR_OPTS') 
>                                 (bar coef porder if porder==2, `BAR_OPTS'
>                                         xlabel(,val labsize(`XLAB_SIZE') )
>                                 ) 
>                                 (rcap uci lci porder, 
>                                         color(gs5)
>                                         msize(huge)  // size of rcap
>                                         lwidth(`CI_WIDTH') 
>                                         legend(off)
>                                         ylabel(`YRANGE', `YLAB_OPTS' ) 
>                                         xlabel(, notick)
>                                         yscale(r(-.05 .53))
>                                         xscale(noextend lcolor(none))
>                                         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>                                         bgcolor(white)
>                                         plotregion(margin(30 30 0 0))
>                                 )               
>                                 (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
>                                         xlabel(1 2)
>                                         recast(line) color(black) lpattern(dash)
>                                         name(`item_type')
>                                 )
>                         ;
 28.                 #delimit cr             
delimiter now cr
.                 graph export $figsavedir/confidence_score_ccd_ida_ips_`item_type'_study1.pdf, replace   
 29.         restore
 30. }
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .32808511           0  -.00605282           0           0           0  -.15394718   .03191489
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_birth_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .41489362           0  -.06675776           0           0           0  -.24405305   .08510638
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_religion_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .48978723           0  -.17021277           0           0           0  -.34272841   .17021277
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_illegal_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .27106383           0  -.02217561           0           0           0  -.26449106   .14893617
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_death_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .55617021           0  -.05528278           0           0           0  -.30830696   .06382979
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_increase_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .22425532           0  -.06942889           0           0           0  -.22834889   .09574468
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_science_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .68297872           0  -.08130699           0           0           0  -.54091523   .11702128
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_fraud_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .14680851           0  -.04366768           0           0           0   -.1325228   .05319149
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_mmr_study1.pdf written in PDF format)
(4356 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .04638298           0  -.04361702           0           0           0   .02669394   .89361702
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_ida_ips_deficit_study1.pdf written in PDF format)

. 
. 
. 
. /*===============================
> * Confidence coding vs RW/CUD = 5
> ================================*/ 
. graph drop _all

. foreach item_type in $items {
  2.         preserve
  3.         drop if (survey!=2) & (survey!=5)
  4.         
.         qui reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  5. 
.         mat coefmat = e(b)
  6.         mat list coefmat
  7.         local baseline = coefmat[1, 2] /* 1.congenial */
  8. 
.         regsave
  9.         drop if var=="_cons"
 10.         drop if var=="1.ccd"
 11.         drop if strpos(var, "0b")  // Drop base variables
 12. 
.         * Gen coef for plotting (add estimates back to baseline)
.         gen est = coef
 13.         label var est "Original reg estimate (before adding back to baseline)"
 14.         replace coef = `baseline' + coef if var!="1.rep"
 15. 
.         * Construct CI
.         gen uci = coef + 1.96 * stderr
 16.         gen lci = coef - 1.96 * stderr
 17.         // replace uci = 0 if var=="_cons"
.         // replace lci = 0 if var=="_cons"
. 
.         gen porder = _n
 18.         label define xlab 1 "MC" 2 "CCD"
 19.         label values porder xlab
 20.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         * Graph settings
.         set scheme s2mono
 21.         local YLAB_OPTS angle(horizontal) labsize(vlarge) nogrid
 22.         local YRANGE 0(0.1).5
 23.         local BASELINE_XLIM = _N+.5
 24.         local CI_WIDTH thick
 25.         local XLAB_SIZE vlarge
 26.         local BAR_OPTS           color(gs7) fcolor(none) lwidth(vthick)
 27.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         #delimit;
delimiter now ;
.                 twoway  
>                                 (bar coef porder if porder==1, `BAR_OPTS') 
>                                 (bar coef porder if porder==2, `BAR_OPTS'
>                                         xlabel(,val labsize(`XLAB_SIZE') )
>                                 ) 
>                                 (rcap uci lci porder, 
>                                         color(gs5)
>                                         msize(huge)  // size of rcap
>                                         lwidth(`CI_WIDTH') 
>                                         legend(off)
>                                         ylabel(`YRANGE', `YLAB_OPTS' ) 
>                                         xlabel(, notick)
>                                         yscale(r(-.05 .53))
>                                         xscale(noextend lcolor(none))
>                                         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>                                         bgcolor(white)
>                                         plotregion(margin(30 30 0 0))
>                                 )               
>                                 (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
>                                         xlabel(1 2)
>                                         recast(line) color(black) lpattern(dash)
>                                         name(`item_type')
>                                 )
>                         ;
 28.                 #delimit cr             
delimiter now cr
.                 graph export $figsavedir/confidence_score_ccd_cud_rw_`item_type'_study1.pdf, replace    
 29.         restore
 30. }
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .44262611           0   .01565799           0           0           0  -.26848818   .01020408
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_birth_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .58586831           0  -.09389627           0           0           0  -.41502774    .1122449
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_religion_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .46495957           0  -.21428571           0           0           0  -.31790075   .21428571
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_illegal_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .20793223           0   -.1181374           0           0           0  -.20135946   .24489796
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_death_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .56854062           0  -.08328973           0           0           0  -.32067738   .09183673
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_increase_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0    .3090104           0  -.00429646           0           0           0  -.31310396   .03061224
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_science_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .49711205           0  -.12755102           0           0           0  -.35504856   .16326531
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_fraud_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .04736234           0  -.11292517           0           0           0  -.03307663   .12244898
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_mmr_study1.pdf written in PDF format)
(4293 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .25105891           0   .17653061           0           0           0  -.17798199   .67346939
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_cud_rw_deficit_study1.pdf written in PDF format)

. 
. /*================================
> * Confidence coding vs FSR/FSR = 3
> =================================*/ 
. graph drop _all

. foreach item_type in $items {
  2.         preserve
  3.         drop if (survey!=2) & (survey!=3)
  4.         
.         qui reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  5. 
.         mat coefmat = e(b)
  6.         mat list coefmat
  7.         local baseline = coefmat[1, 2] /* 1.congenial */
  8. 
.         regsave
  9.         drop if var=="_cons"
 10.         drop if var=="1.ccd"
 11.         drop if strpos(var, "0b")  // Drop base variables
 12. 
.         * Gen coef for plotting (add estimates back to baseline)
.         gen est = coef
 13.         label var est "Original reg estimate (before adding back to baseline)"
 14.         replace coef = `baseline' + coef if var!="1.rep"
 15. 
.         * Construct CI
.         gen uci = coef + 1.96 * stderr
 16.         gen lci = coef - 1.96 * stderr
 17.         // replace uci = 0 if var=="_cons"
.         // replace lci = 0 if var=="_cons"
. 
.         gen porder = _n
 18.         label define xlab 1 "MC" 2 "CCD"
 19.         label values porder xlab
 20.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         * Graph settings
.         set scheme s2mono
 21.         local YLAB_OPTS angle(horizontal) labsize(vlarge) nogrid
 22.         local YRANGE 0(0.1).5
 23.         local BASELINE_XLIM = _N+.5
 24.         local CI_WIDTH thick
 25.         local XLAB_SIZE vlarge
 26.         local BAR_OPTS           color(gs7) fcolor(none) lwidth(vthick)
 27.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         #delimit;
delimiter now ;
.                 twoway  
>                                 (bar coef porder if porder==1, `BAR_OPTS') 
>                                 (bar coef porder if porder==2, `BAR_OPTS'
>                                         xlabel(,val labsize(`XLAB_SIZE') )
>                                 ) 
>                                 (rcap uci lci porder, 
>                                         color(gs5)
>                                         msize(huge)  // size of rcap
>                                         lwidth(`CI_WIDTH') 
>                                         legend(off)
>                                         ylabel(`YRANGE', `YLAB_OPTS' ) 
>                                         xlabel(, notick)
>                                         yscale(r(-.05 .53))
>                                         xscale(noextend lcolor(none))
>                                         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>                                         bgcolor(white)
>                                         plotregion(margin(30 30 0 0))
>                                 )               
>                                 (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
>                                         xlabel(1 2)
>                                         recast(line) color(black) lpattern(dash)
>                                         name(`item_type')
>                                 )
>                         ;
 28.                 #delimit cr             
delimiter now cr
.                 graph export $figsavedir/confidence_score_ccd_fsr_fsr_`item_type'_study1.pdf, replace   
 29.         restore
 30. }
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .12681598           0  -.00803624           0           0           0   .04732195   .03389831
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_birth_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .29116223           0  -.08334629           0           0           0  -.12032166   .10169492
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_religion_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0    .2375908           0  -.10169492           0           0           0  -.09053198   .10169492
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_illegal_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .16525424           0    .0420148           0           0           0  -.15868147   .08474576
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_death_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .35502421           0  -.11857164           0           0           0  -.10716097   .12711864
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_increase_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .17282082           0  -.03300624           0           0           0  -.17691439   .05932203
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_science_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .21307506           0  -.10835351           0           0           0  -.07101157    .1440678
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_fraud_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .10139225           0  -.04979822           0           0           0  -.08710654   .05932203
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_mmr_study1.pdf written in PDF format)
(4086 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   -.0562954           0  -.09915254           0           0           0   .12937232   .94915254
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_fsr_fsr_deficit_study1.pdf written in PDF format)

. 
. /*================================
> * Confidence coding vs 14k/IMC = 1
> =================================*/ 
. graph drop _all

. foreach item_type in $items {
  2.         preserve
  3.         drop if (survey!=2) & (survey!=1)
  4.         
.         qui reg item i.rep##i.ccd if item_type=="`item_type'", vce(cluster id)
  5. 
.         mat coefmat = e(b)
  6.         mat list coefmat
  7.         local baseline = coefmat[1, 2] /* 1.congenial */
  8. 
.         regsave
  9.         drop if var=="_cons"
 10.         drop if var=="1.ccd"
 11.         drop if strpos(var, "0b")  // Drop base variables
 12. 
.         * Gen coef for plotting (add estimates back to baseline)
.         gen est = coef
 13.         label var est "Original reg estimate (before adding back to baseline)"
 14.         replace coef = `baseline' + coef if var!="1.rep"
 15. 
.         * Construct CI
.         gen uci = coef + 1.96 * stderr
 16.         gen lci = coef - 1.96 * stderr
 17.         // replace uci = 0 if var=="_cons"
.         // replace lci = 0 if var=="_cons"
. 
.         gen porder = _n
 18.         label define xlab 1 "MC" 2 "CCD"
 19.         label values porder xlab
 20.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         * Graph settings
.         set scheme s2mono
 21.         local YLAB_OPTS angle(horizontal) labsize(vlarge) nogrid
 22.         local YRANGE 0(0.1).5
 23.         local BASELINE_XLIM = _N+.5
 24.         local CI_WIDTH thick
 25.         local XLAB_SIZE vlarge
 26.         local BAR_OPTS           color(gs7) fcolor(none) lwidth(vthick)
 27.         *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.         #delimit;
delimiter now ;
.                 twoway  
>                                 (bar coef porder if porder==1, `BAR_OPTS') 
>                                 (bar coef porder if porder==2, `BAR_OPTS'
>                                         xlabel(,val labsize(`XLAB_SIZE') )
>                                 ) 
>                                 (rcap uci lci porder, 
>                                         color(gs5)
>                                         msize(huge)  // size of rcap
>                                         lwidth(`CI_WIDTH') 
>                                         legend(off)
>                                         ylabel(`YRANGE', `YLAB_OPTS' ) 
>                                         xlabel(, notick)
>                                         yscale(r(-.05 .53))
>                                         xscale(noextend lcolor(none))
>                                         graphregion(color(white) lc(white) lw(medium) margin(0 0 0 0)) 
>                                         bgcolor(white)
>                                         plotregion(margin(30 30 0 0))
>                                 )               
>                                 (scatteri `baseline' .5 `baseline' `BASELINE_XLIM', 
>                                         xlabel(1 2)
>                                         recast(line) color(black) lpattern(dash)
>                                         name(`item_type')
>                                 )
>                         ;
 28.                 #delimit cr             
delimiter now cr
.                 graph export $figsavedir/confidence_score_ccd_imc_14k_`item_type'_study1.pdf, replace   
 29.         restore
 30. }
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .08643617           0  -.03663793           0           0           0   .08770176       .0625
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_birth_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .16394377           0  -.11557995           0           0           0    .0068968   .13392857
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_religion_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .25588906           0  -.16964286           0           0           0  -.10883023   .16964286
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_illegal_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .22986322           0   .03747485           0           0           0  -.22329045   .08928571
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_death_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .51196809           0  -.05395299           0           0           0  -.26410484       .0625
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_increase_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .22986322           0  -.06296992           0           0           0  -.23395679   .08928571
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_science_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .15710486           0      -.0625           0           0           0  -.01504137   .09821429
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_fraud_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .09536474           0  -.04404762           0           0           0  -.08107903   .05357143
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_mmr_study1.pdf written in PDF format)
(4221 observations deleted)

coefmat[1,9]
            0b.          1.         0b.          1.     0b.rep#     0b.rep#     1o.rep#      1.rep#            
           rep         rep         ccd         ccd      0b.ccd      1o.ccd      0b.ccd       1.ccd       _cons
y1           0   .23974164           0   .15357143           0           0           0  -.16666472   .69642857
(1 observation deleted)
(1 observation deleted)
(5 observations deleted)
(1 real change made)
(file D:/partisan-gaps/figs/confidence_score_ccd_imc_14k_deficit_study1.pdf written in PDF format)

. 
end of do-file

. 
. * Figure SI 2.6
. * Partisan Gaps in Knowledge Across Question Designs (Pooled multiple choices)
. do ./mturk/fig-partisan-gap-mc-24k.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. grstyle init

. grstyle set plain, 

. 
. preserve

. replace question_type = "mc" if question_type!="24k"
(953 real changes made)

. 
. eststo clear

. foreach item of varlist $items avg {
  2.         foreach arm in mc 24k {
  3.                 qui: reg `item' ib1.pid if (pid_str!="Independent") & (question_type=="`arm'"), vce(hc3)
  4.                 est store `item'_`arm'          
  5.                 * Store estimates for average of conditions for annotations later
.                 if "`item'"=="avg" {
  6.                         local beta_`arm' = round(_b[3.pid], 0.01)
  7.                         dis `beta_`arm''
  8.                 }
  9.         }
 10. }
.29
.1

. restore

. /* In order that should appear
> IDA = IPS
> CUD = RW
> FSR = FSR
> IMC = 14k
> CCD = 24k
> */
. 
. local AVG_MARKER_OPTS offset(0) mcolor(navy) mlcolor(black) mlwidth(vvvthin)

. coefplot ///
>         (*_mc) (avg_mc, `AVG_MARKER_OPTS') ///
>         || (*_24k) (avg_24k, `AVG_MARKER_OPTS'), ///
>         msymbol(s) ///
>         mcolor(gs8) ///
>         mlcolor(gs6) ///
>         mlwidth(vvvthin) ///
>         ciopts( color(gs9) ) ///
>         keep(3.pid) ///
>         asequation /// "set equation to model name or string" make the rows the models
>         swapnames /// "swap coefficient names and equation names"
>         subtitle("") /// Remove subtitles for now
>         byopts(row(1)) /// Force results to be in one row (1xn)
>         xline(0, lcolor(gs10) lpattern(dash) lwidth(medium)) ///
>         xlabel(-.3(.3).6) ///
>         xscale(range(-.31 .61)) ///
>         plotregion(margin(zero) ) ///   
>         plotregion(lcolor(black) margin(zero) lwidth(medthin)) /// draw box around columns
>         graphregion(margin(zero)) ///
>         ytick(none) /// remove horizontal grids
>         yscale(noline alt)  /// swap labels to RHS
>         eqrename( ///
>                 birth_mc = "{bf:Obama birthplace}" ///
>                 religion_mc = "{bf:Obama religion}" ///
>                 illegal_mc = "{bf:ACA illegal}" ///
>                 death_mc = "{bf:ACA death panels}" ///
>                 increase_mc = "{bf:GW causes}" ///
>                 science_mc = "{bf:GW scientists agree}" ///
>                 fraud_mc = "{bf:Voter fraud}" ///
>                 mmr_mc = "{bf:MMR vaccine}" ///
>                 deficit_mc = "{bf:Budget deficit}" ///
>                 avg_mc = "{bf:Average}" ///             
>                 birth_24k = "{bf:Obama birthplace}" ///
>                 religion_24k = "{bf:Obama religion}" ///
>                 illegal_24k = "{bf:ACA illegal}" ///
>                 death_24k = "{bf:ACA death panels}" ///
>                 increase_24k = "{bf:GW causes}" ///
>                 science_24k = "{bf:GW scientists agree}" ///
>                 fraud_24k = "{bf:Voter fraud}" ///
>                 mmr_24k = "{bf:MMR vaccine}" ///
>                 deficit_24k = "{bf:Budget deficit}" ///
>                 avg_24k = "{bf:Average}" ///                                                            
>                 )

. 
. 
. * Add column titles     
. addplot 1: , title("{bf:Multiple Choices}" "{bf:(Conditions 1 to 4)}", size(medsmall)) norescaling

. addplot 2: , title(" " "{bf:Confidence Coding Design (CCD)}", size(medsmall)) norescaling

. 
. * graph margin
. gr_edit .style.editstyle margin(left) editcopy 

. * plot margin
. gr_edit .plotregion1.style.editstyle margin(left) editcopy

. * Remove ylabel ticks
. gr_edit .plotregion1.yaxis1[2].style.editstyle majorstyle(tickstyle(show_ticks(no))) editcopy

. * Shift labels to left
. gr_edit .plotregion1.move yaxis1[2] leftof 9 1

. 
. * reset margins back to zero to flush with new col of labels
. gr_edit .style.editstyle margin(zero) editcopy 

. gr_edit .plotregion1.style.editstyle margin(zero) editcopy

. 
. 
. * Add annotes
. local y_heigh_coord = 9.748674339250291

. local annote_style angle(default) size(small) color(black) horizontal(left) vertical(middle) margin(zero) linegap(zero
> ) drawbox(no) boxmargin(zero) fillcolor(bluishgray) linestyle( width(thin) color(black) pattern(solid)) box_alignment(
> east) editcopy

. 
. gr_edit .plotregion1.plotregion1[1].AddTextBox added_text editor `y_heigh_coord' `beta_mc'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[1].added_text[1].text.Arrpush `beta_mc'

. 
. gr_edit .plotregion1.plotregion1[2].AddTextBox added_text editor `y_heigh_coord' `beta_24k'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[2].added_text[1].text.Arrpush `beta_24k'

. 
. gr_edit .legend.draw_view.setstyle, style(no)

. 
. // graph export "$figsavedir/partisan-gap-by-item-arm-mc-24k.pdf", replace      
. 
. savefig, path("$figsavedir/partisan-gap-by-item-arm-mc-24k") format(png pdf eps tif) override(width(1200))
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.png
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.pdf written in PDF format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.pdf
Override ption not allowed - ignoring override option
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.eps written in EPS format)
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.eps
Graph saved as D:/partisan-gaps/figs/partisan-gap-by-item-arm-mc-24k.tif

. 
end of do-file

. 
. * SI 6: Alternate Scoring Criteria for CCD
. * Figure SI 6.1
. * Robustness Check for Confidence Coding and Knowledge Gaps: MTurk 1
. do ./mturk/fig-partisan-gap-imc-24k-greaterthan7.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded-greaterthan7.csv, clear
(344 vars, 1251 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(34 missing values generated)
(111 missing values generated)
(114 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(81 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1170 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. grstyle init

. grstyle set plain, 

. 
. eststo clear

. foreach item of varlist $items avg {
  2.         foreach arm in 14k 24k {
  3.                 qui: reg `item' ib1.pid if (pid_str!="Independent") & (question_type=="`arm'"), vce(hc3)
  4.                 est store `item'_`arm'          
  5.                 * Store estimates for average of conditions for annotations later
.                 if "`item'"=="avg" {
  6.                         local beta_`arm' = round(_b[3.pid], 0.01)
  7.                         dis `beta_`arm''
  8.                 }
  9.         }
 10. }
.22
.14

. 
. /* In order that should appear
> IDA = 14k
> CUD = RW
> FSR = FSR
> IMC = 14k
> CCD = 24k
> */
. 
. local AVG_MARKER_OPTS offset(0) mcolor(navy) mlcolor(black) mlwidth(vvvthin)

. coefplot ///
>         (*_14k) (avg_14k, `AVG_MARKER_OPTS') ///
>         || (*_24k) (avg_24k, `AVG_MARKER_OPTS'), /// 
>         msymbol(s) ///
>         mcolor(gs8) ///
>         mlcolor(gs6) ///
>         mlwidth(vvvthin) ///
>         ciopts( color(gs9) ) ///        
>         keep(3.pid) ///
>         asequation /// "set equation to model name or string" make the rows the models
>         swapnames /// "swap coefficient names and equation names"
>         subtitle("") /// Remove subtitles for now
>         byopts(row(1)) /// Force results to be in one row (1xn)
>         xline(0, lcolor(gs10) lpattern(dash) lwidth(medium)) ///
>         xlabel(-.3(.3).6) ///
>         xscale(range(-.2 .53)) ///
>         plotregion(margin(zero) ) ///   
>         plotregion(lcolor(black) margin(zero) lwidth(medthin)) /// draw box around columns
>         graphregion(margin(zero)) ///
>         ytick(none) /// remove horizontal grids
>         yscale(noline alt)  /// swap labels to RHS
>         eqrename( ///
>                 birth_14k = "{bf:Obama birthplace}" ///
>                 religion_14k = "{bf:Obama religion}" ///
>                 illegal_14k = "{bf:ACA illegal}" ///
>                 death_14k = "{bf:ACA death panels}" ///
>                 increase_14k = "{bf:GW causes}" ///
>                 science_14k = "{bf:GW scientists agree}" ///
>                 fraud_14k = "{bf:Voter fraud}" ///
>                 mmr_14k = "{bf:MMR vaccine}" ///
>                 deficit_14k = "{bf:Budget deficit}" ///
>                 avg_14k = "{bf:Average}" ///            
>                 birth_24k = "{bf:Obama birthplace}" ///
>                 religion_24k = "{bf:Obama religion}" ///
>                 illegal_24k = "{bf:ACA illegal}" ///
>                 death_24k = "{bf:ACA death panels}" ///
>                 increase_24k = "{bf:GW causes}" ///
>                 science_24k = "{bf:GW scientists agree}" ///
>                 fraud_24k = "{bf:Voter fraud}" ///
>                 mmr_24k = "{bf:MMR vaccine}" ///
>                 deficit_24k = "{bf:Budget deficit}" ///
>                 avg_24k = "{bf:Average}" ///                                                            
>                 )

. 
. 
. * Add column titles     
. addplot 1: , title("{bf:Condition 4}" "{bf:(DK + NSP + GD + NNI)}", size(medsmall)) norescaling

. addplot 2: , title(" " "{bf:Confidence Coding Design (CCD)}", size(medsmall)) norescaling

. 
. * graph margin
. gr_edit .style.editstyle margin(left) editcopy 

. * plot margin
. gr_edit .plotregion1.style.editstyle margin(left) editcopy

. * Remove ylabel ticks
. gr_edit .plotregion1.yaxis1[2].style.editstyle majorstyle(tickstyle(show_ticks(no))) editcopy

. * Shift labels to left
. gr_edit .plotregion1.move yaxis1[2] leftof 9 1

. 
. * reset margins back to zero to flush with new col of labels
. gr_edit .style.editstyle margin(zero) editcopy 

. gr_edit .plotregion1.style.editstyle margin(zero) editcopy

. 
. 
. * Add annotes
. local y_heigh_coord = 9.748674339250291

. local annote_style angle(default) size(small) color(black) horizontal(left) vertical(middle) margin(zero) linegap(zero
> ) drawbox(no) boxmargin(zero) fillcolor(bluishgray) linestyle( width(thin) color(black) pattern(solid)) box_alignment(
> east) editcopy

. 
. gr_edit .plotregion1.plotregion1[1].AddTextBox added_text editor `y_heigh_coord' `beta_14k'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[1].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[1].added_text[1].text.Arrpush `beta_14k'

. 
. gr_edit .plotregion1.plotregion1[2].AddTextBox added_text editor `y_heigh_coord' `beta_24k'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle `annote_style'

. gr_edit .plotregion1.plotregion1[2].added_text[1].style.editstyle box_alignment(center) editcopy

. gr_edit .plotregion1.plotregion1[2].added_text[1].text.Arrpush `beta_24k'

. 
. gr_edit .legend.draw_view.setstyle, style(no)

. 
. graph export "$figsavedir/partisan-gap-by-item-arm-14k-24k-greaterthan7.pdf", replace   
(file D:/partisan-gaps/figs/partisan-gap-by-item-arm-14k-24k-greaterthan7.pdf written in PDF format)

. 
. 
end of do-file

. 
. * SI 7: Alternative visualizations of results
. * Figure SI 7.1: The Effect of Various Treatments on the Partisan Gap (MTurk 1)
. do ./mturk/coefplot.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Drop CCD (confidence coding/24k)
. drop if survey == 2
(254 observations deleted)

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                      953   ->    8577
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(2925 observations deleted)

. 
. 
. local spec1 i.rep

. local spec2 i.survey

. local spec3 i.rep##i.survey

. local spec4 `spec1' $demo

. local spec5 `spec2' $demo

. local spec6 `spec3' $demo

. 
. reghdfe item `spec6', absorb(item_type) vce(cluster id)
(MWFE estimator converged in 1 iterations)
note: others omitted because of collinearity

HDFE Linear regression                            Number of obs   =      5,643
Absorbing 1 HDFE group                            F(  17,    626) =      27.96
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3391
                                                  Adj R-squared   =     0.3362
                                                  Within R-sq.    =     0.1455
Number of clusters (id)      =        627         Root MSE        =     0.3619

                                                         (Std. Err. adjusted for 627 clusters in id)
----------------------------------------------------------------------------------------------------
                                   |               Robust
                              item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------------------+----------------------------------------------------------------
                             1.rep |   .3625969   .0339038    10.69   0.000      .296018    .4291758
                                   |
                            survey |
                              14k  |  -.0186231   .0188958    -0.99   0.325    -.0557299    .0184837
                              FSR  |  -.0011261   .0184189    -0.06   0.951    -.0372964    .0350443
                               RW  |    .000381   .0204945     0.02   0.985    -.0398653    .0406272
                                   |
                        rep#survey |
                            1#14k  |  -.1344834   .0474654    -2.83   0.005    -.2276941   -.0412728
                            1#FSR  |  -.1636678    .044357    -3.69   0.000    -.2507743   -.0765613
                             1#RW  |   .0246289   .0450771     0.55   0.585    -.0638917    .1131496
                                   |
                               age |  -.0001956   .0005129    -0.38   0.703    -.0012029    .0008117
                                   |
                            female |
                           Female  |   .0156112   .0131417     1.19   0.235    -.0101959    .0414184
                                   |
                              educ |
High school diploma or equivalent  |   .0247323   .0234832     1.05   0.293     -.021383    .0708477
           No high school diploma  |   .4160116   .0685441     6.07   0.000     .2814074    .5506157
             Post-graduate degree  |  -.0276153   .0167558    -1.65   0.100    -.0605197    .0052891
                     Some college  |   .0364054   .0163034     2.23   0.026     .0043895    .0684213
                                   |
                             hisla |
                              Yes  |  -.0046373   .0239359    -0.19   0.846    -.0516416    .0423669
                             asian |   -.027522   .0476183    -0.58   0.563    -.1210329     .065989
                             black |   .0052095    .050556     0.10   0.918    -.0940704    .1044894
                             white |  -.0661054   .0443134    -1.49   0.136    -.1531263    .0209155
                            others |          0  (omitted)
                             _cons |   .6032329   1.019031     0.59   0.554    -1.397901    2.604367
----------------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+

. 
. grstyle init

. grstyle set plain, noextend

. 
. 
. #delimit;
delimiter now ;
. coefplot,
>         keep(1.rep#*.survey)
>         coeflabel(
>                 1.rep#5.survey="Congenial x Condition 2"
>                 1.rep#3.survey="Congenial x Condition 3"                
>                 1.rep#1.survey="Congenial x Condition 4"        
>         )
>         order(1.rep#5.survey 1.rep#3.survey 1.rep#1.survey)
>         msize(vlarge)
>         mcolor(gs5)
>         mlwidth(vthin)
>         mlcolor(navy)   
>         ylabel(, noticks)
>         grid(none)
>         yscale(lcolor(white))
>         xline(0, lcolor(navy) lpattern(dash) lwidth(medium) )
>         levels(99 95)
>         ciopts(color(gs7 gs9) )
>         graphregion(color(white) margin(0 0 0 0) )
>         plotregion(lcolor(white) margin(0 0 0 0) )
>         xtitle(
>                 "Estimated difference in probability of correct response"
>                 "by experiment condition"
>         )
>         // ========================================
>         // Annotate if significant
>         mlabposition(1)
>         mlabcolor(gs4)
>         mlabel(
>                 cond(@pval<.0001, "p < .0001 ",
>                         "p = " + subinstr(string(@pval,"%5.4f"), "0.", ".",1)
>                 )
>         )
> ;

. #delimit cr
delimiter now cr
. graph export $figsavedir/coefplot-mturk.pdf, replace
(file D:/partisan-gaps/figs/coefplot-mturk.pdf written in PDF format)

. 
end of do-file

. 
. * Figure SI 7.2
. * Partisan Gap by Treatment Arm (MTurk 1)
. * do ./mturk/reg-table.do
. 
. * Figure SI 7.3
. * Weighted Estimate of Inflation of Partisan Gap (Study 2)
. * do ./meta/meta.do
. 
. * SI 8: Differences by Subgroups (Gender/Race)
. * Table SI 8.1
. * The Effect of Various Treatments on the Partisan Gap (MTurk 1), by Gender
. do ./mturk/reg-table-bygender.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Drop CCD (confidence coding/24k)
. drop if survey == 2
(254 observations deleted)

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                      953   ->    8577
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(2925 observations deleted)

. 
. 
. local spec3 i.rep##i.survey##female

. local spec6 `spec3' $demo

. 
. eststo clear

. foreach i in 3 6 {
  2. eststo: reghdfe item `spec`i'', absorb(item_type) vce(cluster id)
  3.         estadd local items 9
  4.         estadd local Nrespondents = e(N_clust1)
  5.         local nobs: display %9.0fc `e(N)'
  6.         estadd local itemFE "\multicolumn{1}{c}{Yes}"
  7.         estadd local nobs "`nobs'"
  8.         if `i' > 3 {
  9.                 estadd local demo "\multicolumn{1}{c}{Yes}"
 10.         }
 11.         else {
 12.                 estadd local demo "\multicolumn{1}{c}{.}"       
 13.         }
 14. }
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      5,643
Absorbing 1 HDFE group                            F(  15,    626) =      29.37
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3316
                                                  Adj R-squared   =     0.3288
                                                  Within R-sq.    =     0.1357
Number of clusters (id)      =        627         Root MSE        =     0.3639

                                        (Std. Err. adjusted for 627 clusters in id)
-----------------------------------------------------------------------------------
                  |               Robust
             item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            1.rep |   .3629908   .0564279     6.43   0.000     .2521798    .4738018
                  |
           survey |
             14k  |   -.028431   .0234004    -1.21   0.225    -.0743838    .0175218
             FSR  |   .0530178   .0310808     1.71   0.089    -.0080174     .114053
              RW  |   .0329797   .0285644     1.15   0.249    -.0231139    .0890734
                  |
       rep#survey |
           1#14k  |   -.139823   .0722168    -1.94   0.053    -.2816394    .0019935
           1#FSR  |  -.2226606   .0682397    -3.26   0.001     -.356667   -.0886543
            1#RW  |  -.0334918   .0686182    -0.49   0.626    -.1682414    .1012579
                  |
           female |
          Female  |   .0395781   .0259211     1.53   0.127    -.0113248     .090481
                  |
       rep#female |
        1#Female  |  -.0193263   .0716015    -0.27   0.787    -.1599346     .121282
                  |
    survey#female |
      14k#Female  |   .0068536   .0367332     0.19   0.852    -.0652816    .0789888
      FSR#Female  |  -.0927308   .0390108    -2.38   0.018    -.1693387    -.016123
       RW#Female  |  -.0555988   .0418908    -1.33   0.185    -.1378622    .0266646
                  |
rep#survey#female |
    1#14k#Female  |   .0264299   .0961963     0.27   0.784    -.1624765    .2153364
    1#FSR#Female  |   .0933124   .0945254     0.99   0.324    -.0923129    .2789377
     1#RW#Female  |   .1231606   .0924315     1.33   0.183    -.0583528    .3046741
                  |
            _cons |   .1608187   .0174452     9.22   0.000     .1265604     .195077
-----------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est1 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{.}"
(MWFE estimator converged in 1 iterations)
note: others omitted because of collinearity

HDFE Linear regression                            Number of obs   =      5,643
Absorbing 1 HDFE group                            F(  24,    626) =      21.40
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3408
                                                  Adj R-squared   =     0.3371
                                                  Within R-sq.    =     0.1477
Number of clusters (id)      =        627         Root MSE        =     0.3617

                                                         (Std. Err. adjusted for 627 clusters in id)
----------------------------------------------------------------------------------------------------
                                   |               Robust
                              item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------------------+----------------------------------------------------------------
                             1.rep |   .3727121   .0541427     6.88   0.000     .2663889    .4790354
                                   |
                            survey |
                              14k  |  -.0232873   .0234172    -0.99   0.320    -.0692731    .0226985
                              FSR  |   .0421898   .0288396     1.46   0.144    -.0144442    .0988239
                               RW  |   .0229741   .0260841     0.88   0.379    -.0282488     .074197
                                   |
                        rep#survey |
                            1#14k  |  -.1459269   .0707686    -2.06   0.040    -.2848996   -.0069543
                            1#FSR  |   -.209038   .0651296    -3.21   0.001    -.3369368   -.0811391
                             1#RW  |  -.0265822   .0652302    -0.41   0.684    -.1546787    .1015142
                                   |
                            female |
                           Female  |   .0319327   .0249757     1.28   0.202    -.0171136     .080979
                                   |
                        rep#female |
                         1#Female  |  -.0176353   .0687018    -0.26   0.797    -.1525493    .1172786
                                   |
                     survey#female |
                       14k#Female  |   .0084046   .0358957     0.23   0.815    -.0620861    .0788952
                       FSR#Female  |   -.076926   .0371772    -2.07   0.039    -.1499331   -.0039189
                        RW#Female  |  -.0388461   .0392637    -0.99   0.323    -.1159507    .0382585
                                   |
                 rep#survey#female |
                     1#14k#Female  |    .025794   .0941021     0.27   0.784        -.159     .210588
                     1#FSR#Female  |    .081421   .0912526     0.89   0.373    -.0977772    .2606192
                      1#RW#Female  |   .1077773   .0894973     1.20   0.229    -.0679739    .2835285
                                   |
                               age |  -.0001547   .0005068    -0.31   0.760    -.0011499    .0008406
                                   |
                              educ |
High school diploma or equivalent  |   .0217875   .0235351     0.93   0.355    -.0244298    .0680048
           No high school diploma  |   .4034345   .0597078     6.76   0.000     .2861827    .5206863
             Post-graduate degree  |  -.0286219   .0166904    -1.71   0.087    -.0613979     .004154
                     Some college  |   .0353398   .0160409     2.20   0.028     .0038394    .0668402
                                   |
                             hisla |
                              Yes  |  -.0020377   .0238547    -0.09   0.932    -.0488826    .0448072
                             asian |  -.0255951   .0479538    -0.53   0.594    -.1197649    .0685747
                             black |   .0035124   .0506944     0.07   0.945    -.0960393     .103064
                             white |  -.0639145   .0444748    -1.44   0.151    -.1512524    .0234234
                            others |          0  (omitted)
                             _cons |   .5114015   1.006843     0.51   0.612    -1.465797      2.4886
----------------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est2 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{Yes}"

. 
. 
. #delimit;
delimiter now ;
. esttab using $tabsavedir/mturk-reg-table-by-gender-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(1.rep *.survey *female* _cons)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle
>         coeflabel(1.rep "Congenial"
>                           5.survey "Condition 2"
>                           3.survey "Condition 3"
>                           1.survey "Condition 4"
>                           // 2.survey "CCD"
>                           1.female "Female"
>                       1.rep#5.survey "Congenial $\times$ Cond. 2"
>                       1.rep#3.survey "Congenial $\times$ Cond. 3"               
>                       1.rep#1.survey "Congenial $\times$ Cond. 4"
>                       1.rep#1.female "Congenial $\times$ Female"
>                       5.survey#1.female "Cond. 2 $\times$ Female"
>                       3.survey#1.female "Cond. 3 $\times$ Female"
>                       1.survey#1.female "Cond. 4 $\times$ Female"
>                       1.rep#5.survey#1.female "(Congenial $\times$ Cond. 2) $\times$ Female"
>                       1.rep#3.survey#1.female "(Congenial $\times$ Cond. 3) $\times$ Female"
>                       1.rep#1.survey#1.female "(Congenial $\times$ Cond. 4) $\times$ Female"
>                 )
>         order(
>                 1.rep 5.survey 3.survey 1.survey 1.female
>                 1.rep#5.survey 1.rep#3.survey 1.rep#1.survey 1.rep#1.female
>                 5.survey#1.female 3.survey#1.female 1.survey#1.female
>                 1.rep#5.survey#1.female 1.rep#3.survey#1.female 1.rep#1.survey#1.female
>         )
>         scalar(
>                 "r2 R$^2$"
>                 "itemFE Survey item FE"
>                 "demo Demographic controls"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/mturk-reg-table-by-gender-fragment.tex)

. #delimit cr     
delimiter now cr
. 
end of do-file

. 
. * Table SI 8.2
. * The Effect of Various Treatments on the Partisan Gap (MTurk 1), by White vs Non-White
. do ./mturk/reg-table-byrace-white-nonwhite.do

. set more off

. import delimited $rootdir/data/turk/mturk-recoded.csv, clear
(344 vars, 1253 obs)

. do ./mturk/preamble.do

. global arms             RW IPS FSR 14k 24k

. global demo     age i.female i.educ i.hisla $races

. 
. rename v1 id

. label var id "Participant ID"

. 
. *------------------------------------------------------------------------------
. *** Response for the 9 items
. global items    birth religion illegal death increase science fraud mmr deficit

. label define itemResponseLabel 1 "Correct" 0 "Incorrect"

. 
. foreach var of varlist $items {
  2.         tempvar _`var'
  3.         gen `_`var'' = `var'
  4.         drop `var'
  5.         gen `var' = (`_`var''=="TRUE") if (`_`var''!="NA")
  6.         label variable `var' "=1 if response is wrong and congenial to R for `var' item"
  7.         * If we define it as correct and congenial to D, and then use D as the "congenial dummy". it's going
.         * to be the same. (Independents dropped)
.         // replace `var' = 1 - `var'
.         // label variable `var' "=1 if response is correct and congenial for D for `var' item"
.         label values `var' itemResponseLabel
  8. }
(24 missing values generated)
(35 missing values generated)
(113 missing values generated)
(115 missing values generated)
(18 missing values generated)
(12 missing values generated)
(18 missing values generated)
(31 missing values generated)
(82 missing values generated)

. * deficif seems to have been coded differently compared to previous 8 items
. * https://github.com/soodoku/partisan-gaps/blob/main/scripts/02_mturk_recode.R
. replace deficit = 1 - deficit 
(1171 real changes made)

. 
. rename avg avg_str

. destring avg_str, gen(avg) force
avg_str contains nonnumeric characters; avg generated as double
(2 missing values generated)

. label variable avg "Avg of the 9 survey questions"

. 
. *------------------------------------------------------------------------------
. *** pid
. rename pid pid_str

. drop if pid_str =="Something else"
(46 observations deleted)

. 
. label define pidLabel 1 "Democrat" 2 "Independent" 3 "Republican"

. encode pid_str, gen(pid) label(pidLabel)

. 
. fvset base 2 pid // permanently set Independent as base

. 
. gen rep = (pid_str=="Republican") if !missing(pid_str)

. 
. 
. *------------------------------------------------------------------------------
. *** Demo
. rename gender gender_str

. label define genderLabel 0 "Male" 1 "Female"

. encode gender_str, gen(female) label(genderLabel)

. 
. foreach demo in educ hisla race {
  2.         rename `demo' `demo'_str
  3.         encode `demo'_str, gen(`demo')
  4. }

. 
. gen asian = strmatch(race_str, "Asian*")

. gen black = strmatch(race_str, "Black*")

. gen white = strmatch(race_str, "White*")

. gen others = (race_str== ///
>         "American Indian or Alaska Native") ///
>         | (race_str=="Native Hawaiian or Pacific Islander") ///
>         | (race_str=="Other") 

. assert 1 == (asian + black + others + white)

. global races asian black white others

. 
. *------------------------------------------------------------------------------
. *** Survey types
. encode question_type, gen(survey)

. fvset base 4 survey // permanently set IPS (IDA) as base

. 
end of do-file

. 
. * Drop CCD (confidence coding/24k)
. drop if survey == 2
(254 observations deleted)

. 
. * Reshape from wide to long to stack participant-item observations
. foreach item of varlist $items {
  2.         rename `item' item`item'
  3. }

. reshape long item, i(id) j(item_type, string)
(note: j = birth death deficit fraud illegal increase mmr religion science)

Data                               wide   ->   long
-----------------------------------------------------------------------------
Number of obs.                      953   ->    8577
Number of variables                 356   ->     349
j variable (9 values)                     ->   item_type
xij variables:
    itembirth itemdeath ... itemscience   ->   item
-----------------------------------------------------------------------------

. 
. drop if pid_str=="Independent"
(2925 observations deleted)

. 
. gen nonwhite = 1 - white

. local spec3 i.rep##i.survey##nonwhite

. local spec6 `spec3' $demo

. 
. eststo clear

. foreach i in 3 6 {
  2. eststo: reghdfe item `spec`i'', absorb(item_type) vce(cluster id)
  3.         estadd local items 9
  4.         estadd local Nrespondents = e(N_clust1)
  5.         local nobs: display %9.0fc `e(N)'
  6.         estadd local itemFE "\multicolumn{1}{c}{Yes}"
  7.         estadd local nobs "`nobs'"
  8.         if `i' > 3 {
  9.                 estadd local demo "\multicolumn{1}{c}{Yes}"
 10.         }
 11.         else {
 12.                 estadd local demo "\multicolumn{1}{c}{.}"       
 13.         }
 14. }
(MWFE estimator converged in 1 iterations)

HDFE Linear regression                            Number of obs   =      5,652
Absorbing 1 HDFE group                            F(  14,    627) =      30.01
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3323
                                                  Adj R-squared   =     0.3297
                                                  Within R-sq.    =     0.1369
Number of clusters (id)      =        628         Root MSE        =     0.3638

                                          (Std. Err. adjusted for 628 clusters in id)
-------------------------------------------------------------------------------------
                    |               Robust
               item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
              1.rep |   .3542488   .0364054     9.73   0.000     .2827575      .42574
                    |
             survey |
               14k  |  -.0220746   .0216697    -1.02   0.309    -.0646286    .0204793
               FSR  |   .0088353   .0212931     0.41   0.678    -.0329792    .0506498
                RW  |   .0029613   .0252141     0.12   0.907    -.0465531    .0524757
                    |
         rep#survey |
             1#14k  |  -.1197694   .0492074    -2.43   0.015    -.2164007   -.0231381
             1#FSR  |  -.1787298   .0472629    -3.78   0.000    -.2715425   -.0859171
              1#RW  |   .0392059   .0483936     0.81   0.418    -.0558272    .1342391
                    |
         1.nonwhite |   .0691639   .0261555     2.64   0.008     .0178008    .1205269
                    |
       rep#nonwhite |
               1 1  |   .1491183   .1170675     1.27   0.203    -.0807737    .3790102
                    |
    survey#nonwhite |
             14k#1  |   .0180342   .0474805     0.38   0.704    -.0752059    .1112743
             FSR#1  |  -.0363325   .0488751    -0.74   0.458    -.1323112    .0596462
              RW#1  |  -.0134832   .0450578    -0.30   0.765    -.1019656    .0749992
                    |
rep#survey#nonwhite |
           1#14k#1  |          0  (empty)
           1#FSR#1  |  -.0345137   .1414297    -0.24   0.807     -.312247    .2432196
            1#RW#1  |  -.2694248   .1605505    -1.68   0.094    -.5847065    .0458569
                    |
              _cons |   .1682099   .0160806    10.46   0.000     .1366315    .1997882
-------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est1 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "628"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,652"

added macro:
               e(demo) : "\multicolumn{1}{c}{.}"
(MWFE estimator converged in 1 iterations)
note: white omitted because of collinearity
note: others omitted because of collinearity

HDFE Linear regression                            Number of obs   =      5,643
Absorbing 1 HDFE group                            F(  23,    626) =      22.45
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3409
                                                  Adj R-squared   =     0.3372
                                                  Within R-sq.    =     0.1477
Number of clusters (id)      =        627         Root MSE        =     0.3616

                                                         (Std. Err. adjusted for 627 clusters in id)
----------------------------------------------------------------------------------------------------
                                   |               Robust
                              item |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-----------------------------------+----------------------------------------------------------------
                             1.rep |   .3529039   .0356023     9.91   0.000     .2829895    .4228183
                                   |
                            survey |
                              14k  |  -.0226962   .0214014    -1.06   0.289    -.0647233     .019331
                              FSR  |   .0080278   .0211623     0.38   0.705      -.03353    .0495855
                               RW  |  -.0003412   .0239564    -0.01   0.989    -.0473858    .0467034
                                   |
                        rep#survey |
                            1#14k  |   -.120073   .0493374    -2.43   0.015      -.21696   -.0231861
                            1#FSR  |  -.1693685   .0469967    -3.60   0.000    -.2616587   -.0770782
                             1#RW  |    .045615    .047249     0.97   0.335    -.0471707    .1384007
                                   |
                        1.nonwhite |   .0554454   .0448342     1.24   0.217    -.0325983    .1434892
                                   |
                      rep#nonwhite |
                              1 1  |   .1615138   .1157005     1.40   0.163    -.0656943    .3887219
                                   |
                   survey#nonwhite |
                            14k#1  |   .0249477   .0469621     0.53   0.595    -.0672747      .11717
                            FSR#1  |  -.0414023    .043859    -0.94   0.346     -.127531    .0447263
                             RW#1  |   .0028016   .0457867     0.06   0.951    -.0871125    .0927158
                                   |
               rep#survey#nonwhite |
                          1#14k#1  |          0  (empty)
                          1#FSR#1  |  -.0292432    .139491    -0.21   0.834    -.3031702    .2446837
                           1#RW#1  |  -.3002919   .1645151    -1.83   0.068    -.6233603    .0227764
                                   |
                               age |  -.0001101   .0005162    -0.21   0.831    -.0011237    .0009035
                                   |
                            female |
                           Female  |   .0154395    .013098     1.18   0.239    -.0102819    .0411609
                                   |
                              educ |
High school diploma or equivalent  |    .025086   .0235809     1.06   0.288    -.0212212    .0713933
           No high school diploma  |   .4247313   .0757707     5.61   0.000     .2759357    .5735268
             Post-graduate degree  |  -.0302889   .0167662    -1.81   0.071    -.0632137    .0026358
                     Some college  |   .0354741    .016347     2.17   0.030     .0033725    .0675758
                                   |
                             hisla |
                              Yes  |  -.0030832   .0241878    -0.13   0.899    -.0505823    .0444158
                             asian |  -.0144846   .0451582    -0.32   0.749    -.1031645    .0741954
                             black |   .0190118   .0474154     0.40   0.689    -.0741008    .1121243
                             white |          0  (omitted)
                            others |          0  (omitted)
                             _cons |   .3684437   1.020922     0.36   0.718    -1.636402     2.37329
----------------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   item_type |         9           0           9     |
-----------------------------------------------------+
(est2 stored)

added macro:
              e(items) : "9"

added macro:
       e(Nrespondents) : "627"

added macro:
             e(itemFE) : "\multicolumn{1}{c}{Yes}"

added macro:
               e(nobs) : "    5,643"

added macro:
               e(demo) : "\multicolumn{1}{c}{Yes}"

. 
. 
. #delimit;
delimiter now ;
. esttab using $tabsavedir/mturk-reg-table-by-white-nonwhite-fragment.tex, 
>         cell(
>       b (fmt(%9.3fc) star) 
>       se(par fmt(%9.3fc))
>       p (par([ ]) fmt(%9.3fc))
>     )  
>     collabels(, none)
>         varwidth(20)
>         modelwidth(8)   
>         star (+ 0.1 * 0.05 ** 0.01 *** 0.001)
>         keep(1.rep *.survey *nonwhite* _cons)
>         obslast
>         label
>         nobase  
>         noobs
>         nomtitle
>         coeflabel(1.rep "Congenial"
>                           5.survey "Condition 2"
>                           3.survey "Condition 3"
>                           1.survey "Condition 4"
>                           // 2.survey "CCD"
>                           1.nonwhite "Non-White"
>                       1.rep#5.survey "Congenial $\times$ Cond. 2"
>                       1.rep#3.survey "Congenial $\times$ Cond. 3"               
>                       1.rep#1.survey "Congenial $\times$ Cond. 4"
>                       1.rep#1.nonwhite "Congenial $\times$ Non-White"
>                       5.survey#1.nonwhite "Cond. 2 $\times$ Non-White"
>                       3.survey#1.nonwhite "Cond. 3 $\times$ Non-White"
>                       1.survey#1.nonwhite "Cond. 4 $\times$ Non-White"
>                       1.rep#5.survey#1.nonwhite "(Congenial $\times$ Cond. 2) $\times$ Non-White"
>                       1.rep#3.survey#1.nonwhite "(Congenial $\times$ Cond. 3) $\times$ Non-White"
>                       1.rep#1.survey#1.nonwhite "(Congenial $\times$ Cond. 4) $\times$ Non-White"
>                 )
>         order(
>                 1.rep 5.survey 3.survey 1.survey 1.nonwhite
>                 1.rep#5.survey 1.rep#3.survey 1.rep#1.survey 1.rep#1.nonwhite
>                 5.survey#1.nonwhite 3.survey#1.nonwhite 1.survey#1.nonwhite
>                 1.rep#5.survey#1.nonwhite 1.rep#3.survey#1.nonwhite 1.rep#1.survey#1.nonwhite
>         )
>         scalar(
>                 "r2 R$^2$"
>                 "itemFE Survey item FE"
>                 "demo Demographic controls"
>                 "items Items"
>                 "Nrespondents Respondents"
>                 "nobs Respondent-items"
>                 ) 
>         alignment(D{.}{.}{-1})
>         substitute(\_ _)
>         fragment booktabs replace        
>         ;
(output written to D:/partisan-gaps/tabs/mturk-reg-table-by-white-nonwhite-fragment.tex)

. #delimit cr     
delimiter now cr
. 
end of do-file

. 
. * SI 9: Hierarchical MOdels
. * Table SI 9.1
. * Comparison of Linear Mixed-Effects Models
. * see scripts/07_turk_hlm.R
. 
. 
. log close
      name:  <unnamed>
       log:  D:\partisan-gaps\scripts\Stata\partisan-gaps-log.txt
  log type:  text
 closed on:  17 Aug 2024, 12:25:20
------------------------------------------------------------------------------------------------------------------------
